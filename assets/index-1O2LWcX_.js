(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var id={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function C1(){if(X_)return il;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return il.Fragment=t,il.jsx=n,il.jsxs=n,il}var $_;function D1(){return $_||($_=1,id.exports=C1()),id.exports}var rt=D1(),rd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function O1(){if(Z_)return wt;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,nt={};function Z(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},Z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=Z.prototype;function ct(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||j}var ot=ct.prototype=new Et;ot.constructor=ct,X(ot,Z.prototype),ot.isPureReactComponent=!0;var Ct=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function x(O,Y,et,J,ut,Rt){return et=Rt.ref,{$$typeof:r,type:O,key:Y,ref:et!==void 0?et:null,props:Rt}}function w(O,Y){return x(O.type,Y,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function R(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var D=/\/+/g;function M(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):Y.toString(36)}function I(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function re(O,Y,et,J,ut){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var vt=!1;if(O===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(O.$$typeof){case r:case t:vt=!0;break;case A:return vt=O._init,re(vt(O._payload),Y,et,J,ut)}}if(vt)return ut=ut(O),vt=J===""?"."+M(O,0):J,Ct(ut)?(et="",vt!=null&&(et=vt.replace(D,"$&/")+"/"),re(ut,Y,et,"",function(qn){return qn})):ut!=null&&(S(ut)&&(ut=w(ut,et+(ut.key==null||O&&O.key===ut.key?"":(""+ut.key).replace(D,"$&/")+"/")+vt)),Y.push(ut)),1;vt=0;var Ie=J===""?".":J+":";if(Ct(O))for(var Jt=0;Jt<O.length;Jt++)J=O[Jt],Rt=Ie+M(J,Jt),vt+=re(J,Y,et,Rt,ut);else if(Jt=V(O),typeof Jt=="function")for(O=Jt.call(O),Jt=0;!(J=O.next()).done;)J=J.value,Rt=Ie+M(J,Jt++),vt+=re(J,Y,et,Rt,ut);else if(Rt==="object"){if(typeof O.then=="function")return re(ye(O),Y,et,J,ut);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(O,Y,et){if(O==null)return O;var J=[],ut=0;return re(O,J,"","",function(Rt){return Y.call(et,Rt,ut++)}),J}function tt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function zt(){}return wt.Children={map:H,forEach:function(O,Y,et){H(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return H(O,function(){Y++}),Y},toArray:function(O){return H(O,function(Y){return Y})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=Z,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=ct,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return _t.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=X({},O.props),ut=O.key,Rt=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ut=""+Y.key),Y)!Dt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(J[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)J.children=et;else if(1<vt){for(var Ie=Array(vt),Jt=0;Jt<vt;Jt++)Ie[Jt]=arguments[Jt+2];J.children=Ie}return x(O.type,ut,void 0,void 0,Rt,J)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,Y,et){var J,ut={},Rt=null;if(Y!=null)for(J in Y.key!==void 0&&(Rt=""+Y.key),Y)Dt.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=Y[J]);var vt=arguments.length-2;if(vt===1)ut.children=et;else if(1<vt){for(var Ie=Array(vt),Jt=0;Jt<vt;Jt++)Ie[Jt]=arguments[Jt+2];ut.children=Ie}if(O&&O.defaultProps)for(J in vt=O.defaultProps,vt)ut[J]===void 0&&(ut[J]=vt[J]);return x(O,Rt,void 0,void 0,null,ut)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:g,render:O}},wt.isValidElement=S,wt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:tt}},wt.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},wt.startTransition=function(O){var Y=_t.T,et={};_t.T=et;try{var J=O(),ut=_t.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,lt)}catch(Rt){lt(Rt)}finally{_t.T=Y}},wt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},wt.use=function(O){return _t.H.use(O)},wt.useActionState=function(O,Y,et){return _t.H.useActionState(O,Y,et)},wt.useCallback=function(O,Y){return _t.H.useCallback(O,Y)},wt.useContext=function(O){return _t.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Y){return _t.H.useDeferredValue(O,Y)},wt.useEffect=function(O,Y,et){var J=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(O,Y)},wt.useId=function(){return _t.H.useId()},wt.useImperativeHandle=function(O,Y,et){return _t.H.useImperativeHandle(O,Y,et)},wt.useInsertionEffect=function(O,Y){return _t.H.useInsertionEffect(O,Y)},wt.useLayoutEffect=function(O,Y){return _t.H.useLayoutEffect(O,Y)},wt.useMemo=function(O,Y){return _t.H.useMemo(O,Y)},wt.useOptimistic=function(O,Y){return _t.H.useOptimistic(O,Y)},wt.useReducer=function(O,Y,et){return _t.H.useReducer(O,Y,et)},wt.useRef=function(O){return _t.H.useRef(O)},wt.useState=function(O){return _t.H.useState(O)},wt.useSyncExternalStore=function(O,Y,et){return _t.H.useSyncExternalStore(O,Y,et)},wt.useTransition=function(){return _t.H.useTransition()},wt.version="19.1.0",wt}var J_;function Gd(){return J_||(J_=1,rd.exports=O1()),rd.exports}var xt=Gd(),sd={exports:{}},rl={},ad={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function N1(){return W_||(W_=1,function(r){function t(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var zt=lt-1>>>1,O=H[zt];if(0<l(O,tt))H[zt]=tt,H[lt]=O,lt=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var zt=0,O=H.length,Y=O>>>1;zt<Y;){var et=2*(zt+1)-1,J=H[et],ut=et+1,Rt=H[ut];if(0>l(J,lt))ut<O&&0>l(Rt,J)?(H[zt]=Rt,H[ut]=lt,zt=ut):(H[zt]=J,H[et]=lt,zt=et);else if(ut<O&&0>l(Rt,lt))H[zt]=Rt,H[ut]=lt,zt=ut;else break t}}return tt}function l(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,C=null,V=3,j=!1,X=!1,nt=!1,Z=!1,Et=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Ct(H){for(var tt=n(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(_)}}function _t(H){if(nt=!1,Ct(H),!X)if(n(p)!==null)X=!0,Dt||(Dt=!0,M());else{var tt=n(_);tt!==null&&re(_t,tt.startTime-H)}}var Dt=!1,x=-1,w=5,S=-1;function R(){return Z?!0:!(r.unstable_now()-S<w)}function D(){if(Z=!1,Dt){var H=r.unstable_now();S=H;var tt=!0;try{t:{X=!1,nt&&(nt=!1,ct(x),x=-1),j=!0;var lt=V;try{e:{for(Ct(H),C=n(p);C!==null&&!(C.expirationTime>H&&R());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,V=C.priorityLevel;var O=zt(C.expirationTime<=H);if(H=r.unstable_now(),typeof O=="function"){C.callback=O,Ct(H),tt=!0;break e}C===n(p)&&s(p),Ct(H)}else s(p);C=n(p)}if(C!==null)tt=!0;else{var Y=n(_);Y!==null&&re(_t,Y.startTime-H),tt=!1}}break t}finally{C=null,V=lt,j=!1}tt=void 0}}finally{tt?M():Dt=!1}}}var M;if(typeof ot=="function")M=function(){ot(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ye=I.port2;I.port1.onmessage=D,M=function(){ye.postMessage(null)}}else M=function(){Et(D,0)};function re(H,tt){x=Et(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var lt=V;V=tt;try{return H()}finally{V=lt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=V;V=H;try{return tt()}finally{V=lt}},r.unstable_scheduleCallback=function(H,tt,lt){var zt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=lt+O,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:O,sortIndex:-1},lt>zt?(H.sortIndex=lt,t(_,H),n(p)===null&&H===n(_)&&(nt?(ct(x),x=-1):nt=!0,re(_t,lt-zt))):(H.sortIndex=O,t(p,H),X||j||(X=!0,Dt||(Dt=!0,M()))),H},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(H){var tt=V;return function(){var lt=V;V=tt;try{return H.apply(this,arguments)}finally{V=lt}}}}(od)),od}var ty;function V1(){return ty||(ty=1,ad.exports=N1()),ad.exports}var ld={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function M1(){if(ey)return Ge;ey=1;var r=Gd();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Ge.flushSync=function(p){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=A,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:j}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:V,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var ny;function x1(){if(ny)return ld.exports;ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=M1(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function k1(){if(iy)return rl;iy=1;var r=V1(),t=Gd(),n=x1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Dt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:ye(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return ye(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],O=-1;function Y(e){return{current:e}}function et(e){0>O||(e.current=zt[O],zt[O]=null,O--)}function J(e,i){O++,zt[O]=e.current,e.current=i}var ut=Y(null),Rt=Y(null),vt=Y(null),Ie=Y(null);function Jt(e,i){switch(J(vt,i),J(Rt,e),J(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?w_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=w_(i),e=S_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),J(ut,e)}function qn(){et(ut),et(Rt),et(vt)}function Gi(e){e.memoizedState!==null&&J(Ie,e);var i=ut.current,a=S_(i,e.type);i!==a&&(J(Rt,e),J(ut,a))}function ui(e){Rt.current===e&&(et(ut),et(Rt)),Ie.current===e&&(et(Ie),Jo._currentValue=lt)}var kr=Object.prototype.hasOwnProperty,Pr=r.unstable_scheduleCallback,Ur=r.unstable_cancelCallback,Ya=r.unstable_shouldYield,xl=r.unstable_requestPaint,dn=r.unstable_now,nh=r.unstable_getCurrentPriorityLevel,Xa=r.unstable_ImmediatePriority,Ns=r.unstable_UserBlockingPriority,Lr=r.unstable_NormalPriority,ih=r.unstable_LowPriority,Vs=r.unstable_IdlePriority,$a=r.log,kl=r.unstable_setDisableYieldValue,se=null,Gt=null;function rn(e){if(typeof $a=="function"&&kl(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(se,e)}catch{}}var je=Math.clz32?Math.clz32:qr,Pl=Math.log,rh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Pl(e)/rh|0)|0}var zr=256,Br=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ms(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Dn(o):(v&=E,v!==0?h=Dn(v):a||(a=E&~e,a!==0&&(h=Dn(a))))):(E=o&~f,E!==0?h=Dn(E):v!==0?h=Dn(v):a||(a=o&~e,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function jr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Za(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),e}function Wa(){var e=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function hi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-je(a),Q=1<<G;E[G]=0,b[G]=-1;var q=L[G];if(q!==null)for(L[G]=null,G=0;G<q.length;G++){var z=q[G];z!==null&&(z.lane&=-536870913)}a&=~Q}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-je(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-je(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function Ul(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,mn="__reactContainer$"+te,no="__reactEvents$"+te,sh="__reactListeners$"+te,Ki="__reactHandles$"+te,Ll="__reactResources$"+te,Hr="__reactMarker$"+te;function Yi(e){delete e[ve],delete e[de],delete e[no],delete e[sh],delete e[Ki]}function fi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[mn]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[ve])return a;e=C_(e)}return i}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[ve]||e[mn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Ll];return i||(i=e[Ll]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Hr]=!0}var io=new Set,ks={};function On(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(ks[e]=i,e=0;e<i.length;e++)io.add(i[e])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Gr={};function Bl(e){return kr.call(Gr,e)?!0:kr.call(zl,e)?!1:ql.test(e)?Gr[e]=!0:(zl[e]=!0,!1)}function Xi(e,i,a){if(Bl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Hn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Fr,jl;function mi(e){if(Fr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fr=i&&i[1]||"",jl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+jl}var Ps=!1;function Us(e,i){if(!e||Ps)return"";Ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(z){var q=z}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(z){q=z}e.call(Q.prototype)}}else{try{throw Error()}catch(z){q=z}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(z){if(z&&q&&typeof z.stack=="string")return[z.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function ro(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Us(e.type,!1);case 11:return Us(e.type.render,!1);case 1:return Us(e.type,!0);case 31:return mi("Activity");default:return""}}function Ls(e){try{var i="";do i+=ro(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ah(e){var i=so(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function qs(e){e._valueTracker||(e._valueTracker=ah(e))}function ao(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=so(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oh=/[\n"\\]/g;function me(e){return e.replace(oh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?$i(e,v,$e(i)):a!=null?$i(e,v,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Kr(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function $i(e,i,a){i==="number"&&Qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function Yr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function gn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Xr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Hl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Hl(e,f,i[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,yi=null;function uo(e){var i=Bn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));sn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ao(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gi(e,!!a.multiple,i,!1)}}}var Gn=!1;function Gl(e,i,a){if(Gn)return e(i,a);Gn=!0;try{var o=e(i);return o}finally{if(Gn=!1,(_i!==null||yi!==null)&&(Uu(),_i&&(i=_i,e=yi,yi=_i=null,uo(i),e)))for(i=0;i<e.length;i++)uo(e[i])}}function $r(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Nn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{_n=!1}var Fn=null,Zi=null,vi=null;function co(){if(vi)return vi;var e,i=Zi,a=i.length,o,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Qn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function ho(){return!1}function Ce(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:ho,this.isPropagationStopped=ho,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ce(jt),Jr=A({},jt,{view:0,detail:0}),Fl=Ce(Jr),js,Hs,Yn,Wr=A({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(js=e.screenX-Yn.screenX,Hs=e.screenY-Yn.screenY):Hs=js=0,Yn=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),yn=Ce(Wr),Ql=A({},Wr,{dataTransfer:0}),ch=Ce(Ql),ts=A({},Jr,{relatedTarget:0}),Gs=Ce(ts),fo=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=Ce(fo),Kl=A({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qs=Ce(Kl),hh=A({},jt,{data:0}),mo=Ce(hh),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Xl[e])?!!i[e]:!1}function ns(){return go}var $l=A({},Jr,{key:function(e){if(e.key){var i=es[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ks=Ce($l),Zl=A({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Ce(Zl),Ei=A({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Jl=Ce(Ei),Wl=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=Ce(Wl),eu=A({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=Ce(eu),Ze=A({},jt,{newState:0,oldState:0}),nu=Ce(Ze),iu=[9,13,27,32],Xn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,y=Nn&&(!Xn||u&&8<u&&11>=u),T=" ",P=!1;function B(e,i){switch(e){case"keyup":return iu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Ee(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(P=!0,T);case"textInput":return e=i.data,e===T&&P?null:e;default:return null}}function Pt(e,i){if(kt)return e==="compositionend"||!Xn&&B(e,i)?(e=co(),vi=Zi=Fn=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ti(e,i,a,o){_i?yi?yi.push(o):yi=[o]:_i=o,i=Hu(i,"onChange"),0<i.length&&(a=new Bs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,$n=null;function _o(e){y_(e,0)}function ru(e){var i=jn(e);if(ao(i))return e}function qm(e,i){if(e==="change")return i}var zm=!1;if(Nn){var fh;if(Nn){var dh="oninput"in document;if(!dh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),dh=typeof Bm.oninput=="function"}fh=dh}else fh=!1;zm=fh&&(!document.documentMode||9<document.documentMode)}function jm(){ke&&(ke.detachEvent("onpropertychange",Hm),$n=ke=null)}function Hm(e){if(e.propertyName==="value"&&ru($n)){var i=[];Ti(i,$n,e,pn(e)),Gl(_o,i)}}function rT(e,i,a){e==="focusin"?(jm(),ke=i,$n=a,ke.attachEvent("onpropertychange",Hm)):e==="focusout"&&jm()}function sT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru($n)}function aT(e,i){if(e==="click")return ru(i)}function oT(e,i){if(e==="input"||e==="change")return ru(i)}function lT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var an=typeof Object.is=="function"?Object.is:lT;function yo(e,i){if(an(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!kr.call(i,h)||!an(e[h],i[h]))return!1}return!0}function Gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fm(e,i){var a=Gm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Qm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Qr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Qr(e.document)}return i}function mh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var uT=Nn&&"documentMode"in document&&11>=document.documentMode,Xs=null,gh=null,vo=null,ph=!1;function Ym(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||Xs==null||Xs!==Qr(o)||(o=Xs,"selectionStart"in o&&mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&yo(vo,o)||(vo=o,o=Hu(gh,"onSelect"),0<o.length&&(i=new Bs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Xs)))}function is(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var $s={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},_h={},Xm={};Nn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function rs(e){if(_h[e])return _h[e];if(!$s[e])return e;var i=$s[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xm)return _h[e]=i[a];return e}var $m=rs("animationend"),Zm=rs("animationiteration"),Jm=rs("animationstart"),cT=rs("transitionrun"),hT=rs("transitionstart"),fT=rs("transitioncancel"),Wm=rs("transitionend"),tg=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Vn(e,i){tg.set(e,i),On(i,[e])}var eg=new WeakMap;function vn(e,i){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ls(i)},eg.set(e,i),i)}return{value:e,source:i,stack:Ls(i)}}var En=[],Zs=0,vh=0;function su(){for(var e=Zs,i=vh=Zs=0;i<e;){var a=En[i];En[i++]=null;var o=En[i];En[i++]=null;var h=En[i];En[i++]=null;var f=En[i];if(En[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ng(a,h,f)}}function au(e,i,a,o){En[Zs++]=e,En[Zs++]=i,En[Zs++]=a,En[Zs++]=o,vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Eh(e,i,a,o){return au(e,i,a,o),ou(e)}function Js(e,i){return au(e,null,null,i),ou(e)}function ng(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-je(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function ou(e){if(50<Go)throw Go=0,If=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ws={};function dT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,i,a,o){return new dT(e,i,a,o)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,i){var a=e.alternate;return a===null?(a=on(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ig(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function lu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Th(e)&&(v=1);else if(typeof e=="string")v=g1(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=on(31,a,i,h),e.elementType=S,e.lanes=f,e;case X:return ss(a.children,h,f,i);case nt:v=8,h|=24;break;case Z:return e=on(12,a,i,h|2),e.elementType=Z,e.lanes=f,e;case _t:return e=on(13,a,i,h),e.elementType=_t,e.lanes=f,e;case Dt:return e=on(19,a,i,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ot:v=10;break t;case ct:v=9;break t;case Ct:v=11;break t;case x:v=14;break t;case w:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=on(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function ss(e,i,a,o){return e=on(7,e,o,i),e.lanes=a,e}function Ah(e,i,a){return e=on(6,e,null,i),e.lanes=a,e}function wh(e,i,a){return i=on(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ta=[],ea=0,uu=null,cu=0,Tn=[],An=0,as=null,wi=1,Si="";function os(e,i){ta[ea++]=cu,ta[ea++]=uu,uu=e,cu=i}function rg(e,i,a){Tn[An++]=wi,Tn[An++]=Si,Tn[An++]=as,as=e;var o=wi;e=Si;var h=32-je(o)-1;o&=~(1<<h),a+=1;var f=32-je(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-je(i)+h|a<<h|o,Si=f+e}else wi=1<<f|a<<h|o,Si=e}function Sh(e){e.return!==null&&(os(e,1),rg(e,1,0))}function bh(e){for(;e===uu;)uu=ta[--ea],ta[ea]=null,cu=ta[--ea],ta[ea]=null;for(;e===as;)as=Tn[--An],Tn[An]=null,Si=Tn[--An],Tn[An]=null,wi=Tn[--An],Tn[An]=null}var Je=null,ae=null,Bt=!1,ls=null,Zn=!1,Rh=Error(s(519));function us(e){var i=Error(s(418,""));throw Ao(vn(i,e)),Rh}function sg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[de]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Qo.length;a++)Nt(Qo[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Kr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Yr(i,o.value,o.defaultValue,o.children),qs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||A_(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=Gu),i=!0):i=!1,i||us(e)}function ag(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Je=Je.return}}function Eo(e){if(e!==Je)return!1;if(!Bt)return ag(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hf(e.type,e.memoizedProps)),a=!a),a&&ae&&us(e),ag(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,dr(e.type)?(e=Kf,Kf=null,ae=e):ae=i):ae=Je?xn(e.stateNode.nextSibling):null;return!0}function To(){ae=Je=null,Bt=!1}function og(){var e=ls;return e!==null&&(en===null?en=e:en.push.apply(en,e),ls=null),e}function Ao(e){ls===null?ls=[e]:ls.push(e)}var Ih=Y(null),cs=null,bi=null;function Ji(e,i,a){J(Ih,i._currentValue),i._currentValue=a}function Ri(e){e._currentValue=Ih.current,et(Ih)}function Ch(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Dh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Ch(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Ch(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;an(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jo):e=[Jo])}h=h.return}e!==null&&Dh(i,e,a,o),i.flags|=262144}function hu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hs(e){cs=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return lg(cs,e)}function fu(e,i){return cs===null&&hs(e),lg(e,i)}function lg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},bi===null){if(e===null)throw Error(s(308));bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else bi=bi.next=i;return a}var mT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},gT=r.unstable_scheduleCallback,pT=r.unstable_NormalPriority,Ae={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new mT,data:new Map,refCount:0}}function So(e){e.refCount--,e.refCount===0&&gT(pT,function(){e.controller.abort()})}var bo=null,Nh=0,na=0,ia=null;function _T(e,i){if(bo===null){var a=bo=[];Nh=0,na=xf(),ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nh++,i.then(ug,ug),i}function ug(){if(--Nh===0&&bo!==null){ia!==null&&(ia.status="fulfilled");var e=bo;bo=null,na=0,ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function yT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var cg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_T(e,i),cg!==null&&cg(e,i)};var fs=Y(null);function Vh(){var e=fs.current;return e!==null?e:Wt.pooledCache}function du(e,i){i===null?J(fs,fs.current):J(fs,i.pool)}function hg(){var e=Vh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ro=Error(s(460)),fg=Error(s(474)),mu=Error(s(542)),Mh={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gu(){}function mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(gu,gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pg(e),e;default:if(typeof i.status=="string")i.then(gu,gu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pg(e),e}throw Io=i,Ro}}var Io=null;function gg(){if(Io===null)throw Error(s(459));var e=Io;return Io=null,e}function pg(e){if(e===Ro||e===mu)throw Error(s(483))}var Wi=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=ou(e),ng(e,null,a),i}return au(e,o,i,a),ou(e)}function Co(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,eo(e,a)}}function Ph(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Uh=!1;function Do(){if(Uh){var e=ia;if(e!==null)throw e}}function Oo(e,i,a,o){Uh=!1;var h=e.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;v=0,G=L=b=null,E=f;do{var q=E.lane&-536870913,z=q!==E.lane;if(z?(Ut&q)===q:(o&q)===q){q!==0&&q===na&&(Uh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ht=E;q=i;var $t=a;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Q=gt.call($t,Q,q);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,q=typeof gt=="function"?gt.call($t,Q,q):gt,q==null)break t;Q=A({},Q,q);break t;case 2:Wi=!0}}q=E.callback,q!==null&&(e.flags|=64,z&&(e.flags|=8192),z=h.callbacks,z===null?h.callbacks=[q]:z.push(q))}else z={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=z,b=Q):G=G.next=z,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;z=E,E=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ur|=v,e.lanes=v,e.memoizedState=Q}}function _g(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function yg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_g(a[e],i)}var ra=Y(null),pu=Y(0);function vg(e,i){e=Mi,J(pu,e),J(ra,i),Mi=e|i.baseLanes}function Lh(){J(pu,Mi),J(ra,ra.current)}function qh(){Mi=pu.current,et(ra),et(pu)}var nr=0,St=null,Yt=null,ge=null,_u=!1,sa=!1,ds=!1,yu=0,No=0,aa=null,vT=0;function ce(){throw Error(s(321))}function zh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!an(e[a],i[a]))return!1;return!0}function Bh(e,i,a,o,h,f){return nr=f,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?np:ip,ds=!1,f=a(o,h),ds=!1,sa&&(f=Tg(i,a,o,h)),Eg(e),f}function Eg(e){H.H=Su;var i=Yt!==null&&Yt.next!==null;if(nr=0,ge=Yt=St=null,_u=!1,No=0,aa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&hu(e)&&(Oe=!0))}function Tg(e,i,a,o){St=e;var h=0;do{if(sa&&(aa=null),No=0,sa=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=RT,f=i(a,o)}while(sa);return f}function ET(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Vo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),i}function jh(){var e=yu!==0;return yu=0,e}function Hh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Gh(e){if(_u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}_u=!1}nr=0,ge=Yt=St=null,sa=!1,No=yu=0,aa=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?St.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?St.memoizedState=ge=e:ge=ge.next=e}return ge}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var i=No;return No+=1,aa===null&&(aa=[]),e=mg(aa,e,i),i=St,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?np:ip),e}function vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===ot)return He(e)}throw Error(s(438,String(e)))}function Qh(e){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fh(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=R;return i.index++,a}function Ii(e,i){return typeof i=="function"?i(e):i}function Eu(e){var i=pe();return Kh(i,Yt,e)}function Kh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ut&Q)===Q:(nr&Q)===Q){var q=L.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===na&&(G=!0);else if((nr&q)===q){L=L.next,q===na&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,St.lanes|=q,ur|=q;Q=L.action,ds&&a(f,Q),f=L.hasEagerState?L.eagerState:a(f,Q)}else q={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=q,v=f):b=b.next=q,St.lanes|=Q,ur|=Q;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!an(f,e.memoizedState)&&(Oe=!0,G&&(a=ia,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yh(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);an(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(e,i,a){var o=St,h=pe(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!an((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=bg.bind(null,o,h,e);if(Mo(2048,8,E,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,oa(9,Tu(),Sg.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));f||(nr&124)!==0||wg(o,i,a)}return a}function wg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=Fh(),St.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Sg(e,i,a,o){i.value=a,i.getSnapshot=o,Rg(i)&&Ig(e)}function bg(e,i,a){return a(function(){Rg(i)&&Ig(e)})}function Rg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!an(e,a)}catch{return!0}}function Ig(e){var i=Js(e,2);i!==null&&fn(i,e,2)}function Xh(e){var i=We();if(typeof e=="function"){var a=e;if(e=a(),ds){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},i}function Cg(e,i,a,o){return e.baseState=a,Kh(e,Yt,typeof o=="function"?o:Ii)}function TT(e,i,a,o,h){if(wu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Dg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Dg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),Og(e,i,E)}catch(L){$h(e,i,L)}finally{H.T=f}}else try{f=a(h,o),Og(e,i,f)}catch(L){$h(e,i,L)}}function Og(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ng(e,i,o)},function(o){return $h(e,i,o)}):Ng(e,i,a)}function Ng(e,i,a){i.status="fulfilled",i.value=a,Vg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dg(e,a)))}function $h(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Vg(i),i=i.next;while(i!==o)}e.action=null}function Vg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Mg(e,i){return i}function xg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=St;if(Bt){if(ae){e:{for(var h=ae,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=xn(h.nextSibling),o=h.data==="F!";break t}}us(o)}o=!1}o&&(i=a[0])}}return a=We(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=o,a=Wg.bind(null,St,o),o.dispatch=a,o=Xh(!1),f=ef.bind(null,St,!1,o.queue),o=We(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=TT.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function kg(e){var i=pe();return Pg(i,Yt,e)}function Pg(e,i,a){if(i=Kh(e,i,Mg)[0],e=Eu(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Vo(i)}catch(v){throw v===Ro?mu:v}else o=i;i=pe();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(St.flags|=2048,oa(9,Tu(),AT.bind(null,h,a),null)),[o,f,e]}function AT(e,i){e.action=i}function Ug(e){var i=pe(),a=Yt;if(a!==null)return Pg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function oa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=St.updateQueue,i===null&&(i=Fh(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Tu(){return{destroy:void 0,resource:void 0}}function Lg(){return pe().memoizedState}function Au(e,i,a,o){var h=We();o=o===void 0?null:o,St.flags|=e,h.memoizedState=oa(1|i,Tu(),a,o)}function Mo(e,i,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&zh(o,Yt.memoizedState.deps)?h.memoizedState=oa(i,f,a,o):(St.flags|=e,h.memoizedState=oa(1|i,f,a,o))}function qg(e,i){Au(8390656,8,e,i)}function zg(e,i){Mo(2048,8,e,i)}function Bg(e,i){return Mo(4,2,e,i)}function jg(e,i){return Mo(4,4,e,i)}function Hg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Gg(e,i,a){a=a!=null?a.concat([e]):null,Mo(4,4,Hg.bind(null,i,e),a)}function Zh(){}function Fg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&zh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Qg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&zh(i,o[1]))return o[0];if(o=e(),ds){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[o,i],o}function Jh(e,i,a){return a===void 0||(nr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Xp(),St.lanes|=e,ur|=e,a)}function Kg(e,i,a,o){return an(a,i)?a:ra.current!==null?(e=Jh(e,a,o),an(e,i)||(Oe=!0),e):(nr&42)===0?(Oe=!0,e.memoizedState=a):(e=Xp(),St.lanes|=e,ur|=e,i)}function Yg(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,ef(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=yT(b,o);xo(e,i,G,hn(e))}else xo(e,i,o,hn(e))}catch(Q){xo(e,i,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=f,H.T=v}}function wT(){}function Wh(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Xg(e).queue;Yg(e,h,i,lt,a===null?wT:function(){return $g(e),a(o)})}function Xg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function $g(e){var i=Xg(e).next.queue;xo(e,i,{},hn())}function tf(){return He(Jo)}function Zg(){return pe().memoizedState}function Jg(){return pe().memoizedState}function ST(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=hn();e=tr(a);var o=er(i,e,a);o!==null&&(fn(o,i,a),Co(o,i,a)),i={cache:Oh()},e.payload=i;return}i=i.return}}function bT(e,i,a){var o=hn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wu(e)?tp(i,a):(a=Eh(e,i,a,o),a!==null&&(fn(a,e,o),ep(a,i,o)))}function Wg(e,i,a){var o=hn();xo(e,i,a,o)}function xo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wu(e))tp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,an(E,v))return au(e,i,h,0),Wt===null&&su(),!1}catch{}finally{}if(a=Eh(e,i,h,o),a!==null)return fn(a,e,o),ep(a,i,o),!0}return!1}function ef(e,i,a,o){if(o={lane:2,revertLane:xf(),action:o,hasEagerState:!1,eagerState:null,next:null},wu(e)){if(i)throw Error(s(479))}else i=Eh(e,a,o,2),i!==null&&fn(i,e,2)}function wu(e){var i=e.alternate;return e===St||i!==null&&i===St}function tp(e,i){sa=_u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ep(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,eo(e,a)}}var Su={readContext:He,use:vu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},np={readContext:He,use:vu,useCallback:function(e,i){return We().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Au(4194308,4,Hg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Au(4194308,4,e,i)},useInsertionEffect:function(e,i){Au(4,2,e,i)},useMemo:function(e,i){var a=We();i=i===void 0?null:i;var o=e();if(ds){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=We();if(a!==void 0){var h=a(i);if(ds){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=bT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var i=We();return e={current:e},i.memoizedState=e},useState:function(e){e=Xh(e);var i=e.queue,a=Wg.bind(null,St,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(e,i){var a=We();return Jh(a,e,i)},useTransition:function(){var e=Xh(!1);return e=Yg.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=St,h=We();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ut&124)!==0||wg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,qg(bg.bind(null,o,f,e),[e]),o.flags|=2048,oa(9,Tu(),Sg.bind(null,o,f,a,i),null),a},useId:function(){var e=We(),i=Wt.identifierPrefix;if(Bt){var a=Si,o=wi;a=(o&~(1<<32-je(o)-1)).toString(32)+a,i=""+i+"R"+a,a=yu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=vT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:tf,useFormState:xg,useActionState:xg,useOptimistic:function(e){var i=We();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ef.bind(null,St,!0,a),a.dispatch=i,[e,i]},useMemoCache:Qh,useCacheRefresh:function(){return We().memoizedState=ST.bind(null,St)}},ip={readContext:He,use:vu,useCallback:Fg,useContext:He,useEffect:zg,useImperativeHandle:Gg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Qg,useReducer:Eu,useRef:Lg,useState:function(){return Eu(Ii)},useDebugValue:Zh,useDeferredValue:function(e,i){var a=pe();return Kg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Eu(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:tf,useFormState:kg,useActionState:kg,useOptimistic:function(e,i){var a=pe();return Cg(a,Yt,e,i)},useMemoCache:Qh,useCacheRefresh:Jg},RT={readContext:He,use:vu,useCallback:Fg,useContext:He,useEffect:zg,useImperativeHandle:Gg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Qg,useReducer:Yh,useRef:Lg,useState:function(){return Yh(Ii)},useDebugValue:Zh,useDeferredValue:function(e,i){var a=pe();return Yt===null?Jh(a,e,i):Kg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Yh(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:tf,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,i){var a=pe();return Yt!==null?Cg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:Jg},la=null,ko=0;function bu(e){var i=ko;return ko+=1,la===null&&(la=[]),mg(la,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ru(e,i){throw i.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function rp(e){var i=e._init;return i(e._payload)}function sp(e){function i(k,N){if(e){var U=k.deletions;U===null?(k.deletions=[N],k.flags|=16):U.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Ai(k,N),k.index=0,k.sibling=null,k}function f(k,N,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<N?(k.flags|=67108866,N):U):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,U,F){return N===null||N.tag!==6?(N=Ah(U,k.mode,F),N.return=k,N):(N=h(N,U),N.return=k,N)}function b(k,N,U,F){var st=U.type;return st===X?G(k,N,U.props.children,F,U.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===w&&rp(st)===N.type)?(N=h(N,U.props),Po(N,U),N.return=k,N):(N=lu(U.type,U.key,U.props,null,k.mode,F),Po(N,U),N.return=k,N)}function L(k,N,U,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=wh(U,k.mode,F),N.return=k,N):(N=h(N,U.children||[]),N.return=k,N)}function G(k,N,U,F,st){return N===null||N.tag!==7?(N=ss(U,k.mode,F,st),N.return=k,N):(N=h(N,U),N.return=k,N)}function Q(k,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ah(""+N,k.mode,U),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case V:return U=lu(N.type,N.key,N.props,null,k.mode,U),Po(U,N),U.return=k,U;case j:return N=wh(N,k.mode,U),N.return=k,N;case w:var F=N._init;return N=F(N._payload),Q(k,N,U)}if(re(N)||M(N))return N=ss(N,k.mode,U,null),N.return=k,N;if(typeof N.then=="function")return Q(k,bu(N),U);if(N.$$typeof===ot)return Q(k,fu(k,N),U);Ru(k,N)}return null}function q(k,N,U,F){var st=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return st!==null?null:E(k,N,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return U.key===st?b(k,N,U,F):null;case j:return U.key===st?L(k,N,U,F):null;case w:return st=U._init,U=st(U._payload),q(k,N,U,F)}if(re(U)||M(U))return st!==null?null:G(k,N,U,F,null);if(typeof U.then=="function")return q(k,N,bu(U),F);if(U.$$typeof===ot)return q(k,N,fu(k,U),F);Ru(k,U)}return null}function z(k,N,U,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(U)||null,E(N,k,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return k=k.get(F.key===null?U:F.key)||null,b(N,k,F,st);case j:return k=k.get(F.key===null?U:F.key)||null,L(N,k,F,st);case w:var It=F._init;return F=It(F._payload),z(k,N,U,F,st)}if(re(F)||M(F))return k=k.get(U)||null,G(N,k,F,st,null);if(typeof F.then=="function")return z(k,N,U,bu(F),st);if(F.$$typeof===ot)return z(k,N,U,fu(N,F),st);Ru(N,F)}return null}function gt(k,N,U,F){for(var st=null,It=null,at=N,mt=N=0,Ve=null;at!==null&&mt<U.length;mt++){at.index>mt?(Ve=at,at=null):Ve=at.sibling;var qt=q(k,at,U[mt],F);if(qt===null){at===null&&(at=Ve);break}e&&at&&qt.alternate===null&&i(k,at),N=f(qt,N,mt),It===null?st=qt:It.sibling=qt,It=qt,at=Ve}if(mt===U.length)return a(k,at),Bt&&os(k,mt),st;if(at===null){for(;mt<U.length;mt++)at=Q(k,U[mt],F),at!==null&&(N=f(at,N,mt),It===null?st=at:It.sibling=at,It=at);return Bt&&os(k,mt),st}for(at=o(at);mt<U.length;mt++)Ve=z(at,k,mt,U[mt],F),Ve!==null&&(e&&Ve.alternate!==null&&at.delete(Ve.key===null?mt:Ve.key),N=f(Ve,N,mt),It===null?st=Ve:It.sibling=Ve,It=Ve);return e&&at.forEach(function(yr){return i(k,yr)}),Bt&&os(k,mt),st}function ht(k,N,U,F){if(U==null)throw Error(s(151));for(var st=null,It=null,at=N,mt=N=0,Ve=null,qt=U.next();at!==null&&!qt.done;mt++,qt=U.next()){at.index>mt?(Ve=at,at=null):Ve=at.sibling;var yr=q(k,at,qt.value,F);if(yr===null){at===null&&(at=Ve);break}e&&at&&yr.alternate===null&&i(k,at),N=f(yr,N,mt),It===null?st=yr:It.sibling=yr,It=yr,at=Ve}if(qt.done)return a(k,at),Bt&&os(k,mt),st;if(at===null){for(;!qt.done;mt++,qt=U.next())qt=Q(k,qt.value,F),qt!==null&&(N=f(qt,N,mt),It===null?st=qt:It.sibling=qt,It=qt);return Bt&&os(k,mt),st}for(at=o(at);!qt.done;mt++,qt=U.next())qt=z(at,k,mt,qt.value,F),qt!==null&&(e&&qt.alternate!==null&&at.delete(qt.key===null?mt:qt.key),N=f(qt,N,mt),It===null?st=qt:It.sibling=qt,It=qt);return e&&at.forEach(function(I1){return i(k,I1)}),Bt&&os(k,mt),st}function $t(k,N,U,F){if(typeof U=="object"&&U!==null&&U.type===X&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case V:t:{for(var st=U.key;N!==null;){if(N.key===st){if(st=U.type,st===X){if(N.tag===7){a(k,N.sibling),F=h(N,U.props.children),F.return=k,k=F;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===w&&rp(st)===N.type){a(k,N.sibling),F=h(N,U.props),Po(F,U),F.return=k,k=F;break t}a(k,N);break}else i(k,N);N=N.sibling}U.type===X?(F=ss(U.props.children,k.mode,F,U.key),F.return=k,k=F):(F=lu(U.type,U.key,U.props,null,k.mode,F),Po(F,U),F.return=k,k=F)}return v(k);case j:t:{for(st=U.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(k,N.sibling),F=h(N,U.children||[]),F.return=k,k=F;break t}else{a(k,N);break}else i(k,N);N=N.sibling}F=wh(U,k.mode,F),F.return=k,k=F}return v(k);case w:return st=U._init,U=st(U._payload),$t(k,N,U,F)}if(re(U))return gt(k,N,U,F);if(M(U)){if(st=M(U),typeof st!="function")throw Error(s(150));return U=st.call(U),ht(k,N,U,F)}if(typeof U.then=="function")return $t(k,N,bu(U),F);if(U.$$typeof===ot)return $t(k,N,fu(k,U),F);Ru(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(k,N.sibling),F=h(N,U),F.return=k,k=F):(a(k,N),F=Ah(U,k.mode,F),F.return=k,k=F),v(k)):a(k,N)}return function(k,N,U,F){try{ko=0;var st=$t(k,N,U,F);return la=null,st}catch(at){if(at===Ro||at===mu)throw at;var It=on(29,at,null,k.mode);return It.lanes=F,It.return=k,It}finally{}}}var ua=sp(!0),ap=sp(!1),wn=Y(null),Jn=null;function ir(e){var i=e.alternate;J(we,we.current&1),J(wn,e),Jn===null&&(i===null||ra.current!==null||i.memoizedState!==null)&&(Jn=e)}function op(e){if(e.tag===22){if(J(we,we.current),J(wn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else rr()}function rr(){J(we,we.current),J(wn,wn.current)}function Ci(e){et(wn),Jn===e&&(Jn=null),et(we)}var we=Y(0);function Iu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=hn(),h=tr(o);h.payload=i,a!=null&&(h.callback=a),i=er(e,h,o),i!==null&&(fn(i,e,o),Co(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=hn(),h=tr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=er(e,h,o),i!==null&&(fn(i,e,o),Co(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=hn(),o=tr(a);o.tag=2,i!=null&&(o.callback=i),i=er(e,o,a),i!==null&&(fn(i,e,a),Co(i,e,a))}};function lp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!yo(a,o)||!yo(h,f):!0}function up(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&rf.enqueueReplaceState(i,i.state,null)}function ms(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){Cu(e)}function hp(e){console.error(e)}function fp(e){Cu(e)}function Du(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function dp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(e,i,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(e,i)},a}function mp(e){return e=tr(e),e.tag=3,e}function gp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){dp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){dp(i,a,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function IT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Jn===null?Df():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Mh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Nf(e,o,h)),!1;case 22:return a.flags|=65536,o===Mh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Nf(e,o,h)),!1}throw Error(s(435,a.tag))}return Nf(e,o,h),Df(),!1}if(Bt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Rh&&(e=Error(s(422),{cause:o}),Ao(vn(e,a)))):(o!==Rh&&(i=Error(s(423),{cause:o}),Ao(vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=vn(o,a),h=sf(e.stateNode,o,h),Ph(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=vn(f,a),Ho===null?Ho=[f]:Ho.push(f),oe!==4&&(oe=2),i===null)return!0;o=vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=sf(a.stateNode,o,e),Ph(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mp(h),gp(h,e,a,o),Ph(a,h),!1}a=a.return}while(a!==null);return!1}var pp=Error(s(461)),Oe=!1;function Pe(e,i,a,o){i.child=e===null?ap(i,null,a,o):ua(i,e.child,a,o)}function _p(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return hs(i),o=Bh(e,i,a,v,f,h),E=jh(),e!==null&&!Oe?(Hh(e,i,h),Di(e,i,h)):(Bt&&E&&Sh(i),i.flags|=1,Pe(e,i,o,h),i.child)}function yp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Th(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,vp(e,i,f,o,h)):(e=lu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!df(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:yo,a(v,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Ai(f,o),e.ref=i.ref,e.return=i,i.child=e}function vp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(yo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,df(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Di(e,i,h)}return af(e,i,a,o,h)}function Ep(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Tp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(i,f!==null?f.cachePool:null),f!==null?vg(i,f):Lh(),op(i);else return i.lanes=i.childLanes=536870912,Tp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(du(i,f.cachePool),vg(i,f),rr(),i.memoizedState=null):(e!==null&&du(i,null),Lh(),rr());return Pe(e,i,h,a),i.child}function Tp(e,i,a,o){var h=Vh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&du(i,null),Lh(),op(i),e!==null&&wo(e,i,o,!0),null}function Ou(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function af(e,i,a,o,h){return hs(i),a=Bh(e,i,a,o,void 0,h),o=jh(),e!==null&&!Oe?(Hh(e,i,h),Di(e,i,h)):(Bt&&o&&Sh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function Ap(e,i,a,o,h,f){return hs(i),i.updateQueue=null,a=Tg(i,o,a,h),Eg(e),o=jh(),e!==null&&!Oe?(Hh(e,i,f),Di(e,i,f)):(Bt&&o&&Sh(i),i.flags|=1,Pe(e,i,a,f),i.child)}function wp(e,i,a,o,h){if(hs(i),i.stateNode===null){var f=Ws,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},xh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):Ws,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&rf.enqueueReplaceState(f,f.state,null),Oo(i,o,f,h),Do(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=ms(a,E);f.props=b;var L=f.context,G=a.contextType;v=Ws,typeof G=="object"&&G!==null&&(v=He(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&up(i,f,o,v),Wi=!1;var q=i.memoizedState;f.state=q,Oo(i,o,f,h),Do(),L=i.memoizedState,E||q!==L||Wi?(typeof Q=="function"&&(nf(i,a,Q,o),L=i.memoizedState),(b=Wi||lp(i,a,b,o,q,L,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,kh(e,i),v=i.memoizedProps,G=ms(a,v),f.props=G,Q=i.pendingProps,q=f.context,L=a.contextType,b=Ws,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||q!==b)&&up(i,f,o,b),Wi=!1,q=i.memoizedState,f.state=q,Oo(i,o,f,h),Do();var z=i.memoizedState;v!==Q||q!==z||Wi||e!==null&&e.dependencies!==null&&hu(e.dependencies)?(typeof E=="function"&&(nf(i,a,E,o),z=i.memoizedState),(G=Wi||lp(i,a,G,o,q,z,b)||e!==null&&e.dependencies!==null&&hu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Ou(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ua(i,e.child,null,h),i.child=ua(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Di(e,i,h),e}function Sp(e,i,a,o){return To(),i.flags|=256,Pe(e,i,a,o),i.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:hg()}}function uf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Sn),e}function bp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?ir(i):rr(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Zn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:as!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,Je=i,ae=null,b=!0):b=!1}b||us(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Qf(E)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return E=o.children,o=o.fallback,h?(rr(),h=i.mode,E=Nu({mode:"hidden",children:E},h),o=ss(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=lf(a),h.childLanes=uf(e,v,a),i.memoizedState=of,o):(ir(i),cf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(ir(i),i.flags&=-257,i=hf(e,i,a)):i.memoizedState!==null?(rr(),i.child=e.child,i.flags|=128,i=null):(rr(),h=o.fallback,E=i.mode,o=Nu({mode:"visible",children:o.children},E),h=ss(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ua(i,e.child,null,a),o=i.child,o.memoizedState=lf(a),o.childLanes=uf(e,v,a),i.memoizedState=of,i=h);else if(ir(i),Qf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Ao({value:o,source:null,stack:null}),i=hf(e,i,a)}else if(Oe||wo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Fi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Js(e,o),fn(v,e,o),pp;E.data==="$?"||Df(),i=hf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=xn(E.nextSibling),Je=i,Bt=!0,ls=null,Zn=!1,e!==null&&(Tn[An++]=wi,Tn[An++]=Si,Tn[An++]=as,wi=e.id,Si=e.overflow,as=i),i=cf(i,o.children),i.flags|=4096);return i}return h?(rr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=ss(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=lf(a):(b=E.cachePool,b!==null?(L=Ae._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=hg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=uf(e,v,a),i.memoizedState=of,o):(ir(i),a=e.child,e=a.sibling,a=Ai(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function cf(e,i){return i=Nu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Nu(e,i){return e=on(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hf(e,i,a){return ua(i,e.child,null,a),e=cf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Rp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Ch(e.return,i,a)}function ff(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Ip(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,i,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,a,i);else if(e.tag===19)Rp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(we,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Iu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ff(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ff(i,!0,a,null,f);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ur|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ai(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ai(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&hu(e)))}function CT(e,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),Ji(i,Ae,e.memoizedState.cache),To();break;case 27:case 5:Gi(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?bp(e,i,a):(ir(i),e=Di(e,i,a),e!==null?e.sibling:null);ir(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ip(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(we,we.current),o)break;return null;case 22:case 23:return i.lanes=0,Ep(e,i,a);case 24:Ji(i,Ae,e.memoizedState.cache)}return Di(e,i,a)}function Cp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!df(e,a)&&(i.flags&128)===0)return Oe=!1,CT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&rg(i,cu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Th(o)?(e=ms(o,e),i.tag=1,i=wp(null,i,o,e,a)):(i.tag=0,i=af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Ct){i.tag=11,i=_p(null,i,o,e,a);break t}else if(h===x){i.tag=14,i=yp(null,i,o,e,a);break t}}throw i=ye(o)||o,Error(s(306,i,""))}}return i;case 0:return af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ms(o,i.pendingProps),wp(e,i,o,h,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,kh(e,i),Oo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Ji(i,Ae,o),o!==f.cache&&Dh(i,[Ae],a,!0),Do(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Sp(e,i,o,a);break t}else if(o!==h){h=vn(Error(s(424)),i),Ao(h),i=Sp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=xn(e.firstChild),Je=i,Bt=!0,ls=null,Zn=!0,a=ap(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(To(),o===h){i=Di(e,i,a);break t}Pe(e,i,o,a)}i=i.child}return i;case 26:return Ou(e,i),e===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Fu(vt.current).createElement(a),o[ve]=i,o[de]=e,Le(o,a,e),ue(o),i.stateNode=o):i.memoizedState=V_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Gi(i),e===null&&Bt&&(o=i.stateNode=D_(i.type,i.pendingProps,vt.current),Je=i,Zn=!0,h=ae,dr(i.type)?(Kf=h,ae=xn(o.firstChild)):ae=h),Pe(e,i,i.pendingProps.children,a),Ou(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=n1(o,i.type,i.pendingProps,Zn),o!==null?(i.stateNode=o,Je=i,ae=xn(o.firstChild),Zn=!1,h=!0):h=!1),h||us(i)),Gi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Hf(h,f)?o=null:v!==null&&Hf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Bh(e,i,ET,null,null,a),Jo._currentValue=h),Ou(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=i1(a,i.pendingProps,Zn),a!==null?(i.stateNode=a,Je=i,ae=null,e=!0):e=!1),e||us(i)),null;case 13:return bp(e,i,a);case 4:return Jt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ua(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return _p(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ji(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,hs(i),h=He(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return yp(e,i,i.type,i.pendingProps,a);case 15:return vp(e,i,i.type,i.pendingProps,a);case 19:return Ip(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Nu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ai(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ep(e,i,a);case 24:return hs(i),o=He(Ae),e===null?(h=Vh(),h===null&&(h=Wt,f=Oh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},xh(i),Ji(i,Ae,h)):((e.lanes&a)!==0&&(kh(e,i),Oo(i,null,null,a),Do()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,Ae,o)):(o=f.cache,Ji(i,Ae,o),o!==h.cache&&Dh(i,[Ae],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(e){e.flags|=4}function Dp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(i)){if(i=wn.current,i!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==Jn))throw Io=Mh,fg;e.flags|=8192}}function Vu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wa():536870912,e.lanes|=i,da|=i)}function Uo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function DT(e,i,a){var o=i.pendingProps;switch(bh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ri(Ae),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Eo(i)?Oi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,og())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Oi(i),a!==null?(ne(i),Dp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Oi(i),ne(i),Dp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Oi(i),ne(i),i.flags&=-16777217),null;case 27:ui(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ut.current,Eo(i)?sg(i):(e=D_(h,o,a),i.stateNode=e,Oi(i))}return ne(i),null;case 5:if(ui(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ut.current,Eo(i))sg(i);else{switch(h=Fu(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ve]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,Eo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||A_(e.nodeValue,a)),e||us(i)}else e=Fu(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else To(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Vu(i,i.updateQueue),ne(i),null;case 4:return qn(),e===null&&Lf(i.stateNode.containerInfo),ne(i),null;case 10:return Ri(i.type),ne(i),null;case 19:if(et(we),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Uo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Iu(e),f!==null){for(i.flags|=128,Uo(h,!1),e=f.updateQueue,i.updateQueue=e,Vu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ig(a,e),a=a.sibling;return J(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&dn()>ku&&(i.flags|=128,o=!0,Uo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Iu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Vu(i,e),Uo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(i),null}else 2*dn()-h.renderingStartTime>ku&&a!==536870912&&(i.flags|=128,o=!0,Uo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=dn(),i.sibling=null,e=we.current,J(we,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Ci(i),qh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Vu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&et(fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ri(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function OT(e,i){switch(bh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ri(Ae),qn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ui(i),null;case 13:if(Ci(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));To()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(we),null;case 4:return qn(),null;case 10:return Ri(i.type),null;case 22:case 23:return Ci(i),qh(),e!==null&&et(fs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ri(Ae),null;case 25:return null;default:return null}}function Op(e,i){switch(bh(i),i.tag){case 3:Ri(Ae),qn();break;case 26:case 27:case 5:ui(i);break;case 4:qn();break;case 13:Ci(i);break;case 19:et(we);break;case 10:Ri(i.type);break;case 22:case 23:Ci(i),qh(),e!==null&&et(fs);break;case 24:Ri(Ae)}}function Lo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Zt(i,i.return,E)}}function sr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){Zt(h,b,G)}}}o=o.next}while(o!==f)}}catch(G){Zt(i,i.return,G)}}function Np(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{yg(i,a)}catch(o){Zt(e,e.return,o)}}}function Vp(e,i,a){a.props=ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,i,o)}}function qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,i,h)}}function Wn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function Mp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function mf(e,i,a){try{var o=e.stateNode;ZT(o,e.type,a,i),o[de]=i}catch(h){Zt(e,e.return,h)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gu));else if(o!==4&&(o===27&&dr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(pf(e,i,a),e=e.sibling;e!==null;)pf(e,i,a),e=e.sibling}function Mu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&dr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Mu(e,i,a),e=e.sibling;e!==null;)Mu(e,i,a),e=e.sibling}function kp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,o,a),i[ve]=e,i[de]=a}catch(f){Zt(e,e.return,f)}}var Ni=!1,he=!1,_f=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function NT(e,i){if(e=e.containerInfo,Bf=Zu,e=Km(e),mh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,q=null;e:for(;;){for(var z;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(z=Q.firstChild)!==null;)q=Q,Q=z;for(;;){if(Q===e)break e;if(q===a&&++L===h&&(E=v),q===f&&++G===o&&(b=v),(z=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=z}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(jf={focusedElem:e,selectionRange:a},Zu=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var gt=ms(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Zt(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ff(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function Up(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(e,a),o&4&&Lo(5,a);break;case 1:if(ar(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=ms(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}o&64&&Np(a),o&512&&qo(a,a.return);break;case 3:if(ar(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yg(e,i)}catch(v){Zt(a,a.return,v)}}break;case 27:i===null&&o&4&&kp(a);case 26:case 5:ar(e,a),i===null&&o&4&&Mp(a),o&512&&qo(a,a.return);break;case 12:ar(e,a);break;case 13:ar(e,a),o&4&&zp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zT.bind(null,a),r1(e,a))));break;case 22:if(o=a.memoizedState!==null||Ni,!o){i=i!==null&&i.memoizedState!==null||he,h=Ni;var f=he;Ni=o,(he=i)&&!f?or(e,a,(a.subtreeFlags&8772)!==0):ar(e,a),Ni=h,he=f}break;case 30:break;default:ar(e,a)}}function Lp(e){var i=e.alternate;i!==null&&(e.alternate=null,Lp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Yi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,tn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)qp(e,i,a),a=a.sibling}function qp(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:he||Wn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||Wn(a,i);var o=ee,h=tn;dr(a.type)&&(ee=a.stateNode,tn=!1),Vi(e,i,a),Yo(a.stateNode),ee=o,tn=h;break;case 5:he||Wn(a,i);case 6:if(o=ee,h=tn,ee=null,Vi(e,i,a),ee=o,tn=h,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){Zt(a,i,f)}else try{ee.removeChild(a.stateNode)}catch(f){Zt(a,i,f)}break;case 18:ee!==null&&(tn?(e=ee,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nl(e)):I_(ee,a.stateNode));break;case 4:o=ee,h=tn,ee=a.stateNode.containerInfo,tn=!0,Vi(e,i,a),ee=o,tn=h;break;case 0:case 11:case 14:case 15:he||sr(2,a,i),he||sr(4,a,i),Vi(e,i,a);break;case 1:he||(Wn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Vp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,Vi(e,i,a),he=o;break;default:Vi(e,i,a)}}function zp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(a){Zt(i,i.return,a)}}function VT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Pp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Pp),i;default:throw Error(s(435,e.tag))}}function yf(e,i){var a=VT(e);i.forEach(function(o){var h=BT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function ln(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(dr(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(s(160));qp(f,v,h),ee=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Bp(i,e),i=i.sibling}var Mn=null;function Bp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),o&4&&(sr(3,e,e.return),Lo(3,e),sr(5,e,e.return));break;case 1:ln(i,e),un(e),o&512&&(he||a===null||Wn(a,a.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Mn;if(ln(i,e),un(e),o&512&&(he||a===null||Wn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Hr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,a),f[ve]=e,ue(f),o=f;break t;case"link":var v=k_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;case"meta":if(v=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,ue(f),o=f}e.stateNode=o}else P_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&mf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),o&512&&(he||a===null||Wn(a,a.return)),a!==null&&o&4&&mf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),o&512&&(he||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(z){Zt(e,e.return,z)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,mf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(_f=!0);break;case 6:if(ln(i,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(z){Zt(e,e.return,z)}}break;case 3:if(Yu=null,h=Mn,Mn=Qu(i.containerInfo),ln(i,e),Mn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(i.containerInfo)}catch(z){Zt(e,e.return,z)}_f&&(_f=!1,jp(e));break;case 4:o=Mn,Mn=Qu(e.stateNode.containerInfo),ln(i,e),un(e),Mn=o;break;case 12:ln(i,e),un(e);break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sf=dn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Ni,G=he;if(Ni=L||h,he=G||b,ln(i,e),he=G,Ni=L,un(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Ni||he||gs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(z){Zt(b,b.return,z)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(z){Zt(b,b.return,z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,yf(e,a))));break;case 19:ln(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(xp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=gf(e);Mu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var E=gf(e);Mu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=gf(e);pf(e,L,b);break;default:throw Error(s(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;jp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ar(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Up(e,i.alternate,i),i=i.sibling}function gs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:sr(4,i,i.return),gs(i);break;case 1:Wn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Vp(i,i.return,a),gs(i);break;case 27:Yo(i.stateNode);case 26:case 5:Wn(i,i.return),gs(i);break;case 22:i.memoizedState===null&&gs(i);break;case 30:gs(i);break;default:gs(i)}e=e.sibling}}function or(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,a),Lo(4,f);break;case 1:if(or(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Zt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)_g(b[h],E)}catch(L){Zt(o,o.return,L)}}a&&v&64&&Np(f),qo(f,f.return);break;case 27:kp(f);case 26:case 5:or(h,f,a),a&&o===null&&v&4&&Mp(f),qo(f,f.return);break;case 12:or(h,f,a);break;case 13:or(h,f,a),a&&v&4&&zp(h,f);break;case 22:f.memoizedState===null&&or(h,f,a),qo(f,f.return);break;case 30:break;default:or(h,f,a)}i=i.sibling}}function vf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&So(a))}function Ef(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&So(e))}function ti(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hp(e,i,a,o),i=i.sibling}function Hp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i,a,o),h&2048&&Lo(9,i);break;case 1:ti(e,i,a,o);break;case 3:ti(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&So(e)));break;case 12:if(h&2048){ti(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Zt(i,i.return,b)}}else ti(e,i,a,o);break;case 13:ti(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ti(e,i,a,o):zo(e,i):f._visibility&2?ti(e,i,a,o):(f._visibility|=2,ca(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&vf(v,i);break;case 24:ti(e,i,a,o),h&2048&&Ef(i.alternate,i);break;default:ti(e,i,a,o)}}function ca(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ca(f,v,E,b,h),Lo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ca(f,v,E,b,h):zo(f,v):(G._visibility|=2,ca(f,v,E,b,h)),h&&L&2048&&vf(v.alternate,v);break;case 24:ca(f,v,E,b,h),h&&L&2048&&Ef(v.alternate,v);break;default:ca(f,v,E,b,h)}i=i.sibling}}function zo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:zo(a,o),h&2048&&vf(o.alternate,o);break;case 24:zo(a,o),h&2048&&Ef(o.alternate,o);break;default:zo(a,o)}i=i.sibling}}var Bo=8192;function ha(e){if(e.subtreeFlags&Bo)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 26:ha(e),e.flags&Bo&&e.memoizedState!==null&&_1(Mn,e.memoizedState,e.memoizedProps);break;case 5:ha(e);break;case 3:case 4:var i=Mn;Mn=Qu(e.stateNode.containerInfo),ha(e),Mn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bo,Bo=16777216,ha(e),Bo=i):ha(e));break;default:ha(e)}}function Fp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function jo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Kp(o,e)}Fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&sr(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,xu(e)):jo(e);break;default:jo(e)}}function xu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Kp(o,e)}Fp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:sr(8,i,i.return),xu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xu(i));break;default:xu(i)}e=e.sibling}}function Kp(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:So(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Lp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var MT={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},xT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Ot=null,Ut=0,Qt=0,cn=null,lr=!1,fa=!1,Tf=!1,Mi=0,oe=0,ur=0,ps=0,Af=0,Sn=0,da=0,Ho=null,en=null,wf=!1,Sf=0,ku=1/0,Pu=null,cr=null,Ue=0,hr=null,ma=null,ga=0,bf=0,Rf=null,Yp=null,Go=0,If=null;function hn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var e=na;return e!==0?e:xf()}return Qi()}function Xp(){Sn===0&&(Sn=(Ut&536870912)===0||Bt?Ja():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Sn}function fn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(pa(e,0),fr(e,Ut,Sn,!1)),hi(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(ps|=a),oe===4&&fr(e,Ut,Sn,!1)),ei(e))}function $p(e,i,a){if((Ft&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||jr(e,i),h=o?UT(e,i):Of(e,i,!0),f=o;do{if(h===0){fa&&!o&&fr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!kT(a)){h=Of(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Ho;var b=E.current.memoizedState.isDehydrated;if(b&&(pa(E,v).flags|=256),v=Of(E,v,!1),v!==2){if(Tf&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){pa(e,0),fr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fr(o,i,Sn,!lr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sf+300-dn(),10<h)){if(fr(o,i,Sn,!lr),Ms(o,0,!0)!==0)break t;o.timeoutHandle=b_(Zp.bind(null,o,a,en,Pu,wf,i,Sn,ps,da,lr,f,2,-0,0),h);break t}Zp(o,a,en,Pu,wf,i,Sn,ps,da,lr,f,0,-0,0)}}break}while(!0);ei(e)}function Zp(e,i,a,o,h,f,v,E,b,L,G,Q,q,z){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Zo={stylesheets:null,count:0,unsuspend:p1},Gp(i),Q=y1(),Q!==null)){e.cancelPendingCommit=Q(r_.bind(null,e,i,f,a,o,h,v,E,b,G,1,q,z)),fr(e,f,v,!L);return}r_(e,i,f,a,o,h,v,E,b)}function kT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fr(e,i,a,o){i&=~Af,i&=~ps,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-je(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&zn(e,a,i)}function Uu(){return(Ft&6)===0?(Fo(0),!1):!0}function Cf(){if(Ot!==null){if(Qt===0)var e=Ot.return;else e=Ot,bi=cs=null,Gh(e),la=null,ko=0,e=Ot;for(;e!==null;)Op(e.alternate,e),e=e.return;Ot=null}}function pa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Cf(),Wt=e,Ot=a=Ai(e.current,null),Ut=i,Qt=0,cn=null,lr=!1,fa=jr(e,i),Tf=!1,da=Sn=Af=ps=ur=oe=0,en=Ho=null,wf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-je(o),f=1<<h;i|=e[h],o&=~f}return Mi=i,su(),a}function Jp(e,i){St=null,H.H=Su,i===Ro||i===mu?(i=gg(),Qt=3):i===fg?(i=gg(),Qt=4):Qt=i===pp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Ot===null&&(oe=1,Du(e,vn(i,e.current)))}function Wp(){var e=H.H;return H.H=Su,e===null?Su:e}function t_(){var e=H.A;return H.A=MT,e}function Df(){oe=4,lr||(Ut&4194048)!==Ut&&wn.current!==null||(fa=!0),(ur&134217727)===0&&(ps&134217727)===0||Wt===null||fr(Wt,Ut,Sn,!1)}function Of(e,i,a){var o=Ft;Ft|=2;var h=Wp(),f=t_();(Wt!==e||Ut!==i)&&(Pu=null,pa(e,i)),i=!1;var v=oe;t:do try{if(Qt!==0&&Ot!==null){var E=Ot,b=cn;switch(Qt){case 8:Cf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var L=Qt;if(Qt=0,cn=null,_a(e,E,b,L),a&&fa){v=0;break t}break;default:L=Qt,Qt=0,cn=null,_a(e,E,b,L)}}PT(),v=oe;break}catch(G){Jp(e,G)}while(!0);return i&&e.shellSuspendCounter++,bi=cs=null,Ft=o,H.H=h,H.A=f,Ot===null&&(Wt=null,Ut=0,su()),v}function PT(){for(;Ot!==null;)e_(Ot)}function UT(e,i){var a=Ft;Ft|=2;var o=Wp(),h=t_();Wt!==e||Ut!==i?(Pu=null,ku=dn()+500,pa(e,i)):fa=jr(e,i);t:do try{if(Qt!==0&&Ot!==null){i=Ot;var f=cn;e:switch(Qt){case 1:Qt=0,cn=null,_a(e,i,f,1);break;case 2:case 9:if(dg(f)){Qt=0,cn=null,n_(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),ei(e)},f.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:dg(f)?(Qt=0,cn=null,n_(i)):(Qt=0,cn=null,_a(e,i,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||U_(v)){Qt=0,cn=null;var b=E.sibling;if(b!==null)Ot=b;else{var L=E.return;L!==null?(Ot=L,Lu(L)):Ot=null}break e}}Qt=0,cn=null,_a(e,i,f,5);break;case 6:Qt=0,cn=null,_a(e,i,f,6);break;case 8:Cf(),oe=6;break t;default:throw Error(s(462))}}LT();break}catch(G){Jp(e,G)}while(!0);return bi=cs=null,H.H=o,H.A=h,Ft=a,Ot!==null?0:(Wt=null,Ut=0,su(),oe)}function LT(){for(;Ot!==null&&!Ya();)e_(Ot)}function e_(e){var i=Cp(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,i===null?Lu(e):Ot=i}function n_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ap(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Ap(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Gh(i);default:Op(a,i),i=Ot=ig(i,Mi),i=Cp(a,i,Mi)}e.memoizedProps=e.pendingProps,i===null?Lu(e):Ot=i}function _a(e,i,a,o){bi=cs=null,Gh(i),la=null,ko=0;var h=i.return;try{if(IT(e,h,i,a,Ut)){oe=1,Du(e,vn(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;oe=1,Du(e,vn(a,e.current)),Ot=null;return}i.flags&32768?(Bt||o===1?e=!0:fa||(Ut&536870912)!==0?e=!1:(lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),i_(i,e)):Lu(i)}function Lu(e){var i=e;do{if((i.flags&32768)!==0){i_(i,lr);return}e=i.return;var a=DT(i.alternate,i,Mi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);oe===0&&(oe=5)}function i_(e,i){do{var a=OT(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);oe=6,Ot=null}function r_(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do qu();while(Ue!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=vh,to(e,a,f,v,E,b),e===Wt&&(Ot=Wt=null,Ut=0),ma=i,hr=e,ga=a,bf=f,Rf=h,Yp=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jT(Lr,function(){return u_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,v=Ft,Ft|=4;try{NT(e,i,a)}finally{Ft=v,tt.p=h,H.T=o}}Ue=1,s_(),a_(),o_()}}function s_(){if(Ue===1){Ue=0;var e=hr,i=ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ft;Ft|=4;try{Bp(i,e);var f=jf,v=Km(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Qm(E.ownerDocument.documentElement,E)){if(b!==null&&mh(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var z=q.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),$t=b.end===void 0?ht:Math.min(b.end,gt);!z.extend&&ht>$t&&(v=$t,$t=ht,ht=v);var k=Fm(E,ht),N=Fm(E,$t);if(k&&N&&(z.rangeCount!==1||z.anchorNode!==k.node||z.anchorOffset!==k.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(k.node,k.offset),z.removeAllRanges(),ht>$t?(z.addRange(U),z.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),z.addRange(U))}}}}for(Q=[],z=E;z=z.parentNode;)z.nodeType===1&&Q.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Zu=!!Bf,jf=Bf=null}finally{Ft=h,tt.p=o,H.T=a}}e.current=i,Ue=2}}function a_(){if(Ue===2){Ue=0;var e=hr,i=ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ft;Ft|=4;try{Up(e,i.alternate,i)}finally{Ft=h,tt.p=o,H.T=a}}Ue=3}}function o_(){if(Ue===4||Ue===3){Ue=0,xl();var e=hr,i=ma,a=ga,o=Yp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,ma=hr=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(cr=null),xs(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,tt.p=h}}(ga&3)!==0&&qu(),ei(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===If?Go++:(Go=0,If=e):Go=0,Fo(0)}}function l_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,So(i)))}function qu(e){return s_(),a_(),o_(),u_()}function u_(){if(Ue!==5)return!1;var e=hr,i=bf;bf=0;var a=xs(ga),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Rf,Rf=null;var f=hr,v=ga;if(Ue=0,ma=hr=null,ga=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,Qp(f.current),Hp(f,f.current,v,a),Ft=E,Fo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,H.T=o,l_(e,i)}}function c_(e,i,a){i=vn(a,i),i=sf(e.stateNode,i,2),e=er(e,i,2),e!==null&&(hi(e,2),ei(e))}function Zt(e,i,a){if(e.tag===3)c_(e,e,a);else for(;i!==null;){if(i.tag===3){c_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){e=vn(a,e),a=mp(2),o=er(i,a,2),o!==null&&(gp(a,o,i,e),hi(o,2),ei(o));break}}i=i.return}}function Nf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new xT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Tf=!0,h.add(a),e=qT.bind(null,e,i,a),i.then(e,e))}function qT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>dn()-Sf?(Ft&2)===0&&pa(e,0):Af|=a,da===Ut&&(da=0)),ei(e)}function h_(e,i){i===0&&(i=Wa()),e=Js(e,i),e!==null&&(hi(e,i),ei(e))}function zT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),h_(e,a)}function BT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),h_(e,a)}function jT(e,i){return Pr(e,i)}var zu=null,ya=null,Vf=!1,Bu=!1,Mf=!1,_s=0;function ei(e){e!==ya&&e.next===null&&(ya===null?zu=ya=e:ya=ya.next=e),Bu=!0,Vf||(Vf=!0,GT())}function Fo(e,i){if(!Mf&&Bu){Mf=!0;do for(var a=!1,o=zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-je(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,g_(o,f))}else f=Ut,f=Ms(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jr(o,f)||(a=!0,g_(o,f));o=o.next}while(a);Mf=!1}}function HT(){f_()}function f_(){Bu=Vf=!1;var e=0;_s!==0&&(JT()&&(e=_s),_s=0);for(var i=dn(),a=null,o=zu;o!==null;){var h=o.next,f=d_(o,i);f===0?(o.next=null,a===null?zu=h:a.next=h,h===null&&(ya=a)):(a=o,(e!==0||(f&3)!==0)&&(Bu=!0)),o=h}Fo(e)}function d_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-je(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=Za(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Wt,a=Ut,a=Ms(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ur(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Ur(o),xs(a)){case 2:case 8:a=Ns;break;case 32:a=Lr;break;case 268435456:a=Vs;break;default:a=Lr}return o=m_.bind(null,e),a=Pr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Ur(o),e.callbackPriority=2,e.callbackNode=null,2}function m_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qu()&&e.callbackNode!==a)return null;var o=Ut;return o=Ms(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:($p(e,o,i),d_(e,dn()),e.callbackNode!=null&&e.callbackNode===a?m_.bind(null,e):null)}function g_(e,i){if(qu())return null;$p(e,i,!0)}function GT(){t1(function(){(Ft&6)!==0?Pr(Xa,HT):f_()})}function xf(){return _s===0&&(_s=Ja()),_s}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function __(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function FT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=p_((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?p_(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Bs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_s!==0){var b=v?__(h,v):new FormData(h);Wh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?__(h,v):new FormData(h),Wh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var kf=0;kf<yh.length;kf++){var Pf=yh[kf],QT=Pf.toLowerCase(),KT=Pf[0].toUpperCase()+Pf.slice(1);Vn(QT,"on"+KT)}Vn($m,"onAnimationEnd"),Vn(Zm,"onAnimationIteration"),Vn(Jm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(cT,"onTransitionRun"),Vn(hT,"onTransitionStart"),Vn(fT,"onTransitionCancel"),Vn(Wm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function y_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=b}}}}function Nt(e,i){var a=i[no];a===void 0&&(a=i[no]=new Set);var o=e+"__bubble";a.has(o)||(v_(i,e,2,!1),a.add(o))}function Uf(e,i,a){var o=0;i&&(o|=4),v_(a,e,o,i)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Lf(e){if(!e[ju]){e[ju]=!0,io.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||Uf(a,!1,e),Uf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ju]||(i[ju]=!0,Uf("selectionchange",!1,i))}}function v_(e,i,a,o){switch(H_(i)){case 2:var h=T1;break;case 8:h=A1;break;default:h=Jf}a=h.bind(null,i,a,e),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Gl(function(){var L=f,G=pn(a),Q=[];t:{var q=tg.get(e);if(q!==void 0){var z=Bs,gt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":z=Ks;break;case"focusin":gt="focus",z=Gs;break;case"focusout":gt="blur",z=Gs;break;case"beforeblur":case"afterblur":z=Gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Jl;break;case $m:case Zm:case Jm:z=Fs;break;case Wm:z=tu;break;case"scroll":case"scrollend":z=Fl;break;case"wheel":z=Ys;break;case"copy":case"cut":case"paste":z=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=po;break;case"toggle":case"beforetoggle":z=nu}var ht=(i&4)!==0,$t=!ht&&(e==="scroll"||e==="scrollend"),k=ht?q!==null?q+"Capture":null:q;ht=[];for(var N=L,U;N!==null;){var F=N;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||k===null||(F=$r(N,k),F!=null&&ht.push(Ko(N,F,U))),$t)break;N=N.return}0<ht.length&&(q=new z(q,gt,null,a,G),Q.push({event:q,listeners:ht}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",q&&a!==pi&&(gt=a.relatedTarget||a.fromElement)&&(fi(gt)||gt[mn]))break t;if((z||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,z?(gt=a.relatedTarget||a.toElement,z=L,gt=gt?fi(gt):null,gt!==null&&($t=c(gt),ht=gt.tag,gt!==$t||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(z=null,gt=L),z!==gt)){if(ht=yn,F="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ht=po,F="onPointerLeave",k="onPointerEnter",N="pointer"),$t=z==null?q:jn(z),U=gt==null?q:jn(gt),q=new ht(F,N+"leave",z,a,G),q.target=$t,q.relatedTarget=U,F=null,fi(G)===L&&(ht=new ht(k,N+"enter",gt,a,G),ht.target=U,ht.relatedTarget=$t,F=ht),$t=F,z&&gt)e:{for(ht=z,k=gt,N=0,U=ht;U;U=va(U))N++;for(U=0,F=k;F;F=va(F))U++;for(;0<N-U;)ht=va(ht),N--;for(;0<U-N;)k=va(k),U--;for(;N--;){if(ht===k||k!==null&&ht===k.alternate)break e;ht=va(ht),k=va(k)}ht=null}else ht=null;z!==null&&E_(Q,q,z,ht,!1),gt!==null&&$t!==null&&E_(Q,$t,gt,ht,!0)}}t:{if(q=L?jn(L):window,z=q.nodeName&&q.nodeName.toLowerCase(),z==="select"||z==="input"&&q.type==="file")var st=qm;else if(Te(q))if(zm)st=oT;else{st=sT;var It=rT}else z=q.nodeName,!z||z.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&lo(L.elementType)&&(st=qm):st=aT;if(st&&(st=st(e,L))){Ti(Q,st,a,G);break t}It&&It(e,q,L),e==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&$i(q,"number",q.value)}switch(It=L?jn(L):window,e){case"focusin":(Te(It)||It.contentEditable==="true")&&(Xs=It,gh=L,vo=null);break;case"focusout":vo=gh=Xs=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Ym(Q,a,G);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Ym(Q,a,G)}var at;if(Xn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else kt?B(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(kt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&kt&&(at=co()):(Fn=G,Zi="value"in Fn?Fn.value:Fn.textContent,kt=!0)),It=Hu(L,mt),0<It.length&&(mt=new mo(mt,e,null,a,G),Q.push({event:mt,listeners:It}),at?mt.data=at:(at=W(a),at!==null&&(mt.data=at)))),(at=m?Ee(e,a):Pt(e,a))&&(mt=Hu(L,"onBeforeInput"),0<mt.length&&(It=new mo("onBeforeInput","beforeinput",null,a,G),Q.push({event:It,listeners:mt}),It.data=at)),FT(Q,e,L,a,G)}y_(Q,i)})}function Ko(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Hu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$r(e,a),h!=null&&o.unshift(Ko(e,h,f)),h=$r(e,i),h!=null&&o.push(Ko(e,h,f))),e.tag===3)return o;e=e.return}return[]}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function E_(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=$r(a,f),L!=null&&v.unshift(Ko(a,L,b))):h||(L=$r(a,f),L!=null&&v.push(Ko(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var XT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function T_(e){return(typeof e=="string"?e:""+e).replace(XT,`
`).replace($T,"")}function A_(e,i){return i=T_(i),T_(e)===i}function Gu(){}function Xt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&gn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,o);break;case"style":oo(e,o,f);break;case"data":if(i!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=zs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=zs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Xi(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lh.get(a)||a,Xi(e,a,o))}}function zf(e,i,a,o,h,f){switch(a){case"style":oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Xi(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,f,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),o&&Xt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Xt(e,i,o,G,a,null)}}Kr(e,f,E,b,L,v,h,!1),qs(e);return;case"select":Nt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Xt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?gi(e,!!o,i,!1):a!=null&&gi(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,i,v,E,a,null)}Yr(e,o,h,f),qs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Nt(Qo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,L,o,a,null)}return;default:if(lo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&zf(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,i,E,o,a,null))}function ZT(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,G=null;for(z in a){var Q=a[z];if(a.hasOwnProperty(z)&&Q!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(z)||Xt(e,i,z,null,o,Q)}}for(var q in o){var z=o[q];if(Q=a[q],o.hasOwnProperty(q)&&(z!=null||Q!=null))switch(q){case"type":f=z;break;case"name":h=z;break;case"checked":L=z;break;case"defaultChecked":G=z;break;case"value":v=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:z!==Q&&Xt(e,i,q,z,o,Q)}}sn(e,v,E,b,L,G,f,h);return;case"select":z=v=E=q=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:o.hasOwnProperty(f)||Xt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Xt(e,i,h,f,o,b)}i=E,a=v,o=z,q!=null?gi(e,!!a,q,!1):!!o!=!!a&&(i!=null?gi(e,!!a,i,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":z=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,i,v,h,o,f)}Kt(e,q,z);return;case"option":for(var gt in a)if(q=a[gt],a.hasOwnProperty(gt)&&q!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Xt(e,i,gt,null,o,q)}for(b in o)if(q=o[b],z=a[b],o.hasOwnProperty(b)&&q!==z&&(q!=null||z!=null))switch(b){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(e,i,b,q,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!=null&&!o.hasOwnProperty(ht)&&Xt(e,i,ht,null,o,q);for(L in o)if(q=o[L],z=a[L],o.hasOwnProperty(L)&&q!==z&&(q!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Xt(e,i,L,q,o,z)}return;default:if(lo(i)){for(var $t in a)q=a[$t],a.hasOwnProperty($t)&&q!==void 0&&!o.hasOwnProperty($t)&&zf(e,i,$t,void 0,o,q);for(G in o)q=o[G],z=a[G],!o.hasOwnProperty(G)||q===z||q===void 0&&z===void 0||zf(e,i,G,q,o,z);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&Xt(e,i,k,null,o,q);for(Q in o)q=o[Q],z=a[Q],!o.hasOwnProperty(Q)||q===z||q==null&&z==null||Xt(e,i,Q,q,o,z)}var Bf=null,jf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function w_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Hf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gf=null;function JT(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(e1)}:b_;function e1(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function I_(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Yo(v.documentElement),a&2&&Yo(v.body),a&4)for(a=v.head,Yo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Hr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),nl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);nl(i)}function Ff(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),Yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function n1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Hr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function i1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function Qf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function r1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Kf=null;function C_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function D_(e,i,a){switch(i=Fu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Yi(e)}var bn=new Map,O_=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=tt.d;tt.d={f:s1,r:a1,D:o1,C:l1,L:u1,m:c1,X:f1,S:h1,M:d1};function s1(){var e=xi.f(),i=Uu();return e||i}function a1(e){var i=Bn(e);i!==null&&i.tag===5&&i.type==="form"?$g(i):xi.r(e)}var Ea=typeof document>"u"?null:document;function N_(e,i,a){var o=Ea;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function o1(e){xi.D(e),N_("dns-prefetch",e,null)}function l1(e,i){xi.C(e,i),N_("preconnect",e,i)}function u1(e,i,a){xi.L(e,i,a);var o=Ea;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(i){case"style":f=Ta(e);break;case"script":f=Aa(e)}bn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),bn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Xo(f))||i==="script"&&o.querySelector($o(f))||(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function c1(e,i){xi.m(e,i);var a=Ea;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Aa(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},i),bn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($o(f)))return}o=a.createElement("link"),Le(o,"link",e),ue(o),a.head.appendChild(o)}}}function h1(e,i,a){xi.S(e,i,a);var o=Ea;if(o&&e){var h=Xe(o).hoistableStyles,f=Ta(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Xo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=bn.get(f))&&Yf(e,a);var b=v=o.createElement("link");ue(b),Le(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ku(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function f1(e,i){xi.X(e,i);var a=Ea;if(a&&e){var o=Xe(a).hoistableScripts,h=Aa(e),f=o.get(h);f||(f=a.querySelector($o(h)),f||(e=A({src:e,async:!0},i),(i=bn.get(h))&&Xf(e,i),f=a.createElement("script"),ue(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d1(e,i){xi.M(e,i);var a=Ea;if(a&&e){var o=Xe(a).hoistableScripts,h=Aa(e),f=o.get(h);f||(f=a.querySelector($o(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=bn.get(h))&&Xf(e,i),f=a.createElement("script"),ue(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function V_(e,i,a,o){var h=(h=vt.current)?Qu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ta(a.href),a=Xe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ta(a.href);var f=Xe(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Xo(e)))&&!f._p&&(v.instance=f,v.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||m1(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Aa(a),a=Xe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ta(e){return'href="'+me(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function m1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),ue(i),e.head.appendChild(i))}function Aa(e){return'[src="'+me(e)+'"]'}function $o(e){return"script[async]"+e}function x_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Le(o,"style",h),Ku(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ta(a.href);var f=e.querySelector(Xo(h));if(f)return i.state.loading|=4,i.instance=f,ue(f),f;o=M_(a),(h=bn.get(h))&&Yf(o,h),f=(e.ownerDocument||e).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(f,"link",o),i.state.loading|=4,Ku(f,a.precedence,e),i.instance=f;case"script":return f=Aa(a.src),(h=e.querySelector($o(f)))?(i.instance=h,ue(h),h):(o=a,(h=bn.get(f))&&(o=A({},a),Xf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ku(o,a.precedence,e));return i.instance}function Ku(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Yf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Xf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yu=null;function k_(e,i,a){if(Yu===null){var o=new Map,h=Yu=new Map;h.set(a,o)}else h=Yu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Hr]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function g1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zo=null;function p1(){}function _1(e,i,a){if(Zo===null)throw Error(s(475));var o=Zo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ta(a.href),f=e.querySelector(Xo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Xu.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,ue(f);return}f=e.ownerDocument||e,a=M_(a),(h=bn.get(h))&&Yf(a,h),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Xu.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function y1(){if(Zo===null)throw Error(s(475));var e=Zo;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $u=null;function $f(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$u=new Map,i.forEach(v1,e),$u=null,Xu.call(e))}function v1(e,i){if(!(i.state.loading&4)){var a=$u.get(e);if(a)var o=a.get(null);else{a=new Map,$u.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=Xu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Jo={$$typeof:ot,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function E1(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function L_(e,i,a,o,h,f,v,E,b,L,G,Q){return e=new E1(e,i,a,v,E,b,L,Q),i=1,f===!0&&(i|=24),f=on(3,null,null,i),e.current=f,f.stateNode=e,i=Oh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},xh(f),e}function q_(e){return e?(e=Ws,e):Ws}function z_(e,i,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=tr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=er(e,o,i),a!==null&&(fn(a,e,i),Co(a,e,i))}function B_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Zf(e,i){B_(e,i),(e=e.alternate)&&B_(e,i)}function j_(e){if(e.tag===13){var i=Js(e,67108864);i!==null&&fn(i,e,67108864),Zf(e,67108864)}}var Zu=!0;function T1(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Jf(e,i,a,o)}finally{tt.p=f,H.T=h}}function A1(e,i,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Jf(e,i,a,o)}finally{tt.p=f,H.T=h}}function Jf(e,i,a,o){if(Zu){var h=Wf(o);if(h===null)qf(e,i,o,Ju,a),G_(e,o);else if(S1(h,e,i,a,o))o.stopPropagation();else if(G_(e,o),i&4&&-1<w1.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-je(v);E.entanglements[1]|=b,v&=~b}ei(f),(Ft&6)===0&&(ku=dn()+500,Fo(0))}}break;case 13:E=Js(f,2),E!==null&&fn(E,f,2),Uu(),Zf(f,2)}if(f=Wf(o),f===null&&qf(e,i,o,Ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else qf(e,i,o,null,a)}}function Wf(e){return e=pn(e),td(e)}var Ju=null;function td(e){if(Ju=null,e=fi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ju=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nh()){case Xa:return 2;case Ns:return 8;case Lr:case ih:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var ed=!1,mr=null,gr=null,pr=null,Wo=new Map,tl=new Map,_r=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,i){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Wo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(i.pointerId)}}function el(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Bn(i),i!==null&&j_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function S1(e,i,a,o,h){switch(i){case"focusin":return mr=el(mr,e,i,a,o,h),!0;case"dragenter":return gr=el(gr,e,i,a,o,h),!0;case"mouseover":return pr=el(pr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Wo.set(f,el(Wo.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,tl.set(f,el(tl.get(f)||null,e,i,a,o,h)),!0}return!1}function F_(e){var i=fi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Ul(e.priority,function(){if(a.tag===13){var o=hn();o=Fi(o);var h=Js(a,o);h!==null&&fn(h,a,o),Zf(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Wf(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);pi=o,a.target.dispatchEvent(o),pi=null}else return i=Bn(a),i!==null&&j_(i),e.blockedOn=a,!1;i.shift()}return!0}function Q_(e,i,a){Wu(e)&&a.delete(i)}function b1(){ed=!1,mr!==null&&Wu(mr)&&(mr=null),gr!==null&&Wu(gr)&&(gr=null),pr!==null&&Wu(pr)&&(pr=null),Wo.forEach(Q_),tl.forEach(Q_)}function tc(e,i){e.blockedOn===i&&(e.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b1)))}var ec=null;function K_(e){ec!==e&&(ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(td(o||a)===null)continue;break}var f=Bn(a);f!==null&&(e.splice(i,3),i-=3,Wh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function nl(e){function i(b){return tc(b,e)}mr!==null&&tc(mr,e),gr!==null&&tc(gr,e),pr!==null&&tc(pr,e),Wo.forEach(i),tl.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[de]||null;if(typeof f=="function")v||K_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[de]||null)E=v.formAction;else if(td(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),K_(a)}}}function nd(e){this._internalRoot=e}nc.prototype.render=nd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=hn();z_(a,o,e,i,null,null)},nc.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;z_(e.current,2,null,e,null,null),Uu(),i[mn]=null}};function nc(e){this._internalRoot=e}nc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&F_(e)}};var Y_=t.version;if(Y_!=="19.1.0")throw Error(s(527,Y_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var R1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{se=ic.inject(R1),Gt=ic}catch{}}return rl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=cp,f=hp,v=fp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=L_(e,1,!1,null,null,a,o,h,f,v,E,null),e[mn]=i.current,Lf(e),new nd(i)},rl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=cp,v=hp,E=fp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=L_(e,1,!0,i,a??null,o,h,f,v,E,b,L),i.context=q_(null),a=i.current,o=hn(),o=Fi(o),h=tr(o),h.callback=null,er(a,h,o),a=o,i.current.lanes=a,hi(i,a),ei(i),e[mn]=i.current,Lf(e),new nc(i)},rl.version="19.1.0",rl}var ry;function P1(){if(ry)return sd.exports;ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sd.exports=k1(),sd.exports}var U1=P1();/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),sy=r=>{const t=q1(r);return t.charAt(0).toUpperCase()+t.slice(1)},xv=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),z1=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=xt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},p)=>xt.createElement("svg",{ref:p,...B1,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:xv("lucide",l),...!c&&!z1(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>xt.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=(r,t)=>{const n=xt.forwardRef(({className:s,...l},c)=>xt.createElement(j1,{ref:c,iconNode:t,className:xv(`lucide-${L1(sy(r))}`,`lucide-${r}`,s),...l}));return n.displayName=sy(r),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],G1=Fd("chart-column",H1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kv=Fd("circle-check-big",F1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],K1=Fd("circle-x",Q1),Y1=()=>{};var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},X1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,j=_&63;p||(j=64,d||(V=64)),s.push(n[A],n[C],n[V],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Pv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):X1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const C=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||C==null)throw new $1;const V=c<<2|g>>4;if(s.push(V),_!==64){const j=g<<4&240|_>>2;if(s.push(j),C!==64){const X=_<<6&192|C;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(r){const t=Pv(r);return Uv.encodeByteArray(t,!0)},Ec=function(r){return Z1(r).replace(/\./g,"")},Lv=function(r){try{return Uv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=()=>J1().__FIREBASE_DEFAULTS__,tA=()=>{if(typeof process>"u"||typeof ay>"u")return;const r=ay.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Lv(r[1]);return t&&JSON.parse(t)},zc=()=>{try{return Y1()||W1()||tA()||eA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qv=r=>{var t,n;return(n=(t=zc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},nA=r=>{const t=qv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},zv=()=>{var r;return(r=zc())===null||r===void 0?void 0:r.config},Bv=r=>{var t;return(t=zc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(r){return r.endsWith(".cloudworkstations.dev")}async function jv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ec(JSON.stringify(n)),Ec(JSON.stringify(d)),""].join(".")}const ll={};function sA(){const r={prod:[],emulator:[]};for(const t of Object.keys(ll))ll[t]?r.emulator.push(t):r.prod.push(t);return r}function aA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let oy=!1;function Hv(r,t){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||ll[r]===t||ll[r]||oy)return;ll[r]=t;function n(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=sA().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function p(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{oy=!0,d()},V}function A(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=aA(s),j=n("text"),X=document.getElementById(j)||document.createElement("span"),nt=n("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),Et=n("preprendIcon"),ct=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ot=V.element;g(ot),A(Z,nt);const Ct=_();p(ct,Et),ot.append(ct,X,Z,Ct),document.body.appendChild(ot)}c?(X.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function lA(){var r;const t=(r=zc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class Hi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=pA,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?_A(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Hi(l,g,s)}}function _A(r,t){return r.replace(yA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const yA=/\{\$([^}]+)}/g;function vA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function As(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(ly(c)&&ly(d)){if(!As(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function ly(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function EA(r,t){const n=new TA(r,t);return n.subscribe.bind(n)}class TA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=ud),l.error===void 0&&(l.error=ud),l.complete===void 0&&(l.complete=ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(r){return r&&r._delegate?r._delegate:r}class ws{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new iA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bA(t))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ys){return this.instances.has(t)}getOptions(t=ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ys){return this.component?this.component.multipleInstances?t:ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SA(r){return r===ys?void 0:r}function bA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const IA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},CA=Vt.INFO,DA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},OA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=DA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qd{constructor(t){this.name=t,this._logLevel=CA,this._logHandler=OA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const NA=(r,t)=>t.some(n=>r instanceof n);let uy,cy;function VA(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,Ed=new WeakMap,Fv=new WeakMap,cd=new WeakMap,Kd=new WeakMap;function xA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Sr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Gv.set(n,r)}).catch(()=>{}),Kd.set(t,r),t}function kA(r){if(Ed.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ed.set(r,t)}let Td={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ed.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Fv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function PA(r){Td=r(Td)}function UA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(hd(this),t,...n);return Fv.set(s,t.sort?t.sort():[t]),Sr(s)}:MA().includes(r)?function(...t){return r.apply(hd(this),t),Sr(Gv.get(this))}:function(...t){return Sr(r.apply(hd(this),t))}}function LA(r){return typeof r=="function"?UA(r):(r instanceof IDBTransaction&&kA(r),NA(r,VA())?new Proxy(r,Td):r)}function Sr(r){if(r instanceof IDBRequest)return xA(r);if(cd.has(r))return cd.get(r);const t=LA(r);return t!==r&&(cd.set(r,t),Kd.set(t,r)),t}const hd=r=>Kd.get(r);function qA(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Sr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Sr(d.result),p.oldVersion,p.newVersion,Sr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const zA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],fd=new Map;function hy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=BA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||zA.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return fd.set(t,c),c}PA(r=>({...r,get:(t,n,s)=>hy(t,n)||r.get(t,n,s),has:(t,n)=>!!hy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",fy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Qd("@firebase/app"),GA="@firebase/app-compat",FA="@firebase/analytics-compat",QA="@firebase/analytics",KA="@firebase/app-check-compat",YA="@firebase/app-check",XA="@firebase/auth",$A="@firebase/auth-compat",ZA="@firebase/database",JA="@firebase/data-connect",WA="@firebase/database-compat",tw="@firebase/functions",ew="@firebase/functions-compat",nw="@firebase/installations",iw="@firebase/installations-compat",rw="@firebase/messaging",sw="@firebase/messaging-compat",aw="@firebase/performance",ow="@firebase/performance-compat",lw="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",fw="@firebase/firestore",dw="@firebase/ai",mw="@firebase/firestore-compat",gw="firebase",pw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",_w={[Ad]:"fire-core",[GA]:"fire-core-compat",[QA]:"fire-analytics",[FA]:"fire-analytics-compat",[YA]:"fire-app-check",[KA]:"fire-app-check-compat",[XA]:"fire-auth",[$A]:"fire-auth-compat",[ZA]:"fire-rtdb",[JA]:"fire-data-connect",[WA]:"fire-rtdb-compat",[tw]:"fire-fn",[ew]:"fire-fn-compat",[nw]:"fire-iid",[iw]:"fire-iid-compat",[rw]:"fire-fcm",[sw]:"fire-fcm-compat",[aw]:"fire-perf",[ow]:"fire-perf-compat",[lw]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[fw]:"fire-fst",[mw]:"fire-fst-compat",[dw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,yw=new Map,Sd=new Map;function dy(r,t){try{r.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Va(r){const t=r.name;if(Sd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,r);for(const n of Tc.values())dy(n,r);for(const n of yw.values())dy(n,r);return!0}function Yd(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new bl("app","Firebase",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=pw;function Qv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:wd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(n||(n=zv()),!n)throw br.create("no-options");const c=Tc.get(l);if(c){if(As(n,c.options)&&As(s,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new RA(l);for(const p of Sd.values())d.addComponent(p);const g=new Ew(n,s,d);return Tc.set(l,g),g}function Kv(r=wd){const t=Tc.get(r);if(!t&&r===wd&&zv())return Qv();if(!t)throw br.create("no-app",{appName:r});return t}function Rr(r,t,n){var s;let l=(s=_w[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}Va(new ws(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebase-heartbeat-database",Aw=1,ml="firebase-heartbeat-store";let dd=null;function Yv(){return dd||(dd=qA(Tw,Aw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw br.create("idb-open",{originalErrorMessage:r.message})})),dd}async function ww(r){try{const n=(await Yv()).transaction(ml),s=await n.objectStore(ml).get(Xv(r));return await n.done,s}catch(t){if(t instanceof Hi)qi.warn(t.message);else{const n=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function my(r,t){try{const s=(await Yv()).transaction(ml,"readwrite");await s.objectStore(ml).put(t,Xv(r)),await s.done}catch(n){if(n instanceof Hi)qi.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(s.message)}}}function Xv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,bw=30;class Rw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=gy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>bw){const d=Dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gy(),{heartbeatsToSend:s,unsentEntries:l}=Iw(this._heartbeatsCache.heartbeats),c=Ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return qi.warn(n),""}}}function gy(){return new Date().toISOString().substring(0,10)}function Iw(r,t=Sw){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),py(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),py(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Cw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ww(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function py(r){return Ec(JSON.stringify({version:2,heartbeats:r})).length}function Dw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){Va(new ws("platform-logger",t=>new jA(t),"PRIVATE")),Va(new ws("heartbeat",t=>new Rw(t),"PRIVATE")),Rr(Ad,fy,r),Rr(Ad,fy,"esm2017"),Rr("fire-js","")}Ow("");function Xd(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nw=$v,Zv=new bl("auth","Firebase",$v());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Qd("@firebase/auth");function Vw(r,...t){Ac.logLevel<=Vt.WARN&&Ac.warn(`Auth (${ja}): ${r}`,...t)}function cc(r,...t){Ac.logLevel<=Vt.ERROR&&Ac.error(`Auth (${ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...t){throw Zd(r,...t)}function Ln(r,...t){return Zd(r,...t)}function $d(r,t,n){const s=Object.assign(Object.assign({},Nw()),{[t]:n});return new bl("auth","Firebase",s).create(t,{appName:r.name})}function Ts(r){return $d(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ai(r,"argument-error"),$d(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zd(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Zv.create(r,...t)}function yt(r,t,...n){if(!r)throw Zd(t,...n)}function Pi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw cc(t),new Error(t)}function zi(r,t){r||Pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xw(){return _y()==="http:"||_y()==="https:"}function _y(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||cA()||"connection"in navigator)?navigator.onLine:!0}function Pw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n){this.shortDelay=t,this.longDelay=n,zi(n>t,"Short delay should be less than long delay!"),this.isMobile=oA()||hA()}get(){return kw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r,t){zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qw=new Il(3e4,6e4);function Wd(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ha(r,t,n,s,l={}){return Wv(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Rl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return uA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(_.credentials="include"),Jv.fetch()(await t0(r,r.config.apiHost,n,g),_)})}async function Wv(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Uw),t);try{const l=new Bw(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw rc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw rc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $d(r,A,_);ai(r,A)}}catch(l){if(l instanceof Hi)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function zw(r,t,n,s,l={}){const c=await Ha(r,t,n,s,l);return"mfaPendingCredential"in c&&ai(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function t0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Jd(r.config,l):`${r.config.apiScheme}://${l}`;return Lw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),qw.get())})}}function rc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ln(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(r,t){return Ha(r,"POST","/v1/accounts:delete",t)}async function wc(r,t){return Ha(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Hw(r,t=!1){const n=Cn(r),s=await n.getIdToken(t),l=tm(s);yt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:ul(md(l.auth_time)),issuedAtTime:ul(md(l.iat)),expirationTime:ul(md(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function md(r){return Number(r)*1e3}function tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lv(n);return l?JSON.parse(l):(cc("Failed to decode base64 JWT payload"),null)}catch(l){return cc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function yy(r){const t=tm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Hi&&Gw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Gw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await gl(r,wc(n,{idToken:s}));yt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?e0(c.providerUserInfo):[],g=Kw(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Rd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,C)}async function Qw(r){const t=Cn(r);await Sc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Kw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function e0(r){return r.map(t=>{var{providerId:n}=t,s=Xd(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(r,t){const n=await Wv(r,{},async()=>{const s=Rl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await t0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Jv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xw(r,t){return Ha(r,"POST","/v2/accounts:revokeToken",Wd(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=yy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await Yw(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Ca;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Pn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=Xd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Rd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await gl(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Hw(this,t)}reload(){return Qw(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await gl(this,jw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,_,A;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,V=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,X=(d=n.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Et=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ct=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ot,emailVerified:Ct,isAnonymous:_t,providerData:Dt,stsTokenManager:x}=n;yt(ot&&x,t,"internal-error");const w=Ca.fromJSON(this.name,x);yt(typeof ot=="string",t,"internal-error"),vr(C,t.name),vr(V,t.name),yt(typeof Ct=="boolean",t,"internal-error"),yt(typeof _t=="boolean",t,"internal-error"),vr(j,t.name),vr(X,t.name),vr(nt,t.name),vr(Z,t.name),vr(Et,t.name),vr(ct,t.name);const S=new Pn({uid:ot,auth:t,email:V,emailVerified:Ct,displayName:C,isAnonymous:_t,photoURL:X,phoneNumber:j,tenantId:nt,stsTokenManager:w,createdAt:Et,lastLoginAt:ct});return Dt&&Array.isArray(Dt)&&(S.providerData=Dt.map(R=>Object.assign({},R))),Z&&(S._redirectEventId=Z),S}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ca;l.updateFromServerResponse(n);const c=new Pn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Sc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?e0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ca;g.updateFromIdToken(s);const p=new Pn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Rd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Ui(r){zi(r instanceof Function,"Expected a class definition");let t=vy.get(r);return t?(zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,vy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}n0.type="NONE";const Ey=n0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r,t,n){return`firebase:${r}:${t}:${n}`}class Da{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=hc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wc(this.auth,{idToken:t}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Da(Ui(Ey),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ui(Ey);const d=hc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let C;if(typeof A=="string"){const V=await wc(t,{idToken:A}).catch(()=>{});if(!V)break;C=await Pn._fromGetAccountInfoResponse(t,V,A)}else C=Pn._fromJSON(t,A);_!==c&&(g=C),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Da(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Da(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(a0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(i0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(l0(t))return"Blackberry";if(u0(t))return"Webos";if(r0(t))return"Safari";if((t.includes("chrome/")||s0(t))&&!t.includes("edge/"))return"Chrome";if(o0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function i0(r=Ye()){return/firefox\//i.test(r)}function r0(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function s0(r=Ye()){return/crios\//i.test(r)}function a0(r=Ye()){return/iemobile/i.test(r)}function o0(r=Ye()){return/android/i.test(r)}function l0(r=Ye()){return/blackberry/i.test(r)}function u0(r=Ye()){return/webos/i.test(r)}function em(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $w(r=Ye()){var t;return em(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Zw(){return fA()&&document.documentMode===10}function c0(r=Ye()){return em(r)||o0(r)||u0(r)||l0(r)||/windows phone/i.test(r)||a0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r,t=[]){let n;switch(r){case"Browser":n=Ty(Ye());break;case"Worker":n=`${Ty(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(r,t={}){return Ha(r,"GET","/v2/passwordPolicy",Wd(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=6;class eS{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:tS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ay(this),this.idTokenSubscription=new Ay(this),this.beforeStateQueue=new Jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Da.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wc(this,{idToken:t}),s=await Pn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Sc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Pw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Ts(this));const n=t?Cn(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ww(this),n=new eS(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xw(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ui(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=h0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Vw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bc(r){return Cn(r)}class Ay{constructor(t){this.auth=t,this.observer=null,this.addObserver=EA(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iS(r){nm=r}function rS(r){return nm.loadJS(r)}function sS(){return nm.gapiScript}function aS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,t){const n=Yd(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(As(c,t??{}))return l;ai(l,"already-initialized")}return n.initialize({options:t})}function lS(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ui);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function uS(r,t,n){const s=Bc(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=f0(t),{host:d,port:g}=cS(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(As(_,s.config.emulator)&&As(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Sl(d)?(jv(`${c}//${d}${p}`),Hv("Auth",!0)):hS()}function f0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function cS(r){const t=f0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:wy(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:wy(d)}}}function wy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function hS(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(t){return Pi("not implemented")}_linkToIdToken(t,n){return Pi("not implemented")}_getReauthenticationResolver(t){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(r,t){return zw(r,"POST","/v1/accounts:signInWithIdp",Wd(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="http://localhost";class Ss extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=Xd(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ss(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Oa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Oa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oa(t,n)}buildRequest(){const t={requestUri:fS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Rl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Cl{constructor(){super("facebook.com")}static credential(t){return Ss._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ss._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ki.credential(n,s)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Cl{constructor(){super("github.com")}static credential(t){return Ss._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Cl{constructor(){super("twitter.com")}static credential(t,n){return Ss._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Pn._fromIdTokenResponse(t,s,l),d=Sy(s);return new Ma({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Sy(s);return new Ma({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Sy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Hi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new bc(t,n,s,l)}}function m0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(r,c,t,s):c})}async function dS(r,t,n=!1){const s=await gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ma._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Ts(s));const l="reauthenticate";try{const c=await gl(r,m0(s,l,t,r),n);yt(c.idToken,s,"internal-error");const d=tm(c.idToken);yt(d,s,"internal-error");const{sub:g}=d;return yt(r.uid===g,s,"user-mismatch"),Ma._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(r,t,n=!1){if(kn(r.app))return Promise.reject(Ts(r));const s="signIn",l=await m0(r,s,t),c=await Ma._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function pS(r,t,n,s){return Cn(r).onIdTokenChanged(t,n,s)}function _S(r,t,n){return Cn(r).beforeAuthStateChanged(t,n)}function yS(r,t,n,s){return Cn(r).onAuthStateChanged(t,n,s)}function vS(r){return Cn(r).signOut()}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=1e3,TS=10;class p0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Zw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TS):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ES)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}p0.type="LOCAL";const AS=p0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_0.type="SESSION";const y0=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new jc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await wS(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=rm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const V=C;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function bS(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function RS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IS(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function CS(){return v0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebaseLocalStorageDb",DS=1,Ic="firebaseLocalStorage",T0="fbase_key";class Dl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(r,t){return r.transaction([Ic],t?"readwrite":"readonly").objectStore(Ic)}function OS(){const r=indexedDB.deleteDatabase(E0);return new Dl(r).toPromise()}function Id(){const r=indexedDB.open(E0,DS);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ic,{keyPath:T0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ic)?t(s):(s.close(),await OS(),t(await Id()))})})}async function by(r,t,n){const s=Hc(r,!0).put({[T0]:t,value:n});return new Dl(s).toPromise()}async function NS(r,t){const n=Hc(r,!1).get(t),s=await new Dl(n).toPromise();return s===void 0?null:s.value}function Ry(r,t){const n=Hc(r,!0).delete(t);return new Dl(n).toPromise()}const VS=800,MS=3;class A0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Id(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>MS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(CS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await RS(),!this.activeServiceWorker)return;this.sender=new SS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Id();return await by(t,Rc,"1"),await Ry(t,Rc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>by(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>NS(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ry(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Hc(l,!1).getAll();return new Dl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A0.type="LOCAL";const xS=A0;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,t){return t?Ui(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends d0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function kS(r){return gS(r.auth,new sm(r),r.bypassAuthState)}function PS(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),mS(n,new sm(r),r.bypassAuthState)}async function US(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),dS(n,new sm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kS;case"linkViaPopup":case"linkViaRedirect":return US;case"reauthViaPopup":case"reauthViaRedirect":return PS;default:ai(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Il(2e3,1e4);async function qS(r,t,n){if(kn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=Bc(r);Mw(r,t,im);const l=w0(s,n);return new vs(s,"signInViaPopup",t,l).executeNotNull()}class vs extends S0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LS.get())};t()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="pendingRedirect",fc=new Map;class BS extends S0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=fc.get(this.auth._key());if(!t){try{const s=await jS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}fc.set(this.auth._key(),t)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jS(r,t){const n=FS(t),s=GS(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function HS(r,t){fc.set(r._key(),t)}function GS(r){return Ui(r._redirectPersistence)}function FS(r){return hc(zS,r.config.apiKey,r.name)}async function QS(r,t,n=!1){if(kn(r.app))return Promise.reject(Ts(r));const s=Bc(r),l=w0(s,t),d=await new BS(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=10*60*1e3;class YS{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XS(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!b0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(t))}saveEventToCache(t){this.cachedEventUids.add(Iy(t)),this.lastProcessedEventTime=Date.now()}}function Iy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function b0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function XS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(r,t={}){return Ha(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JS=/^https?/;async function WS(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $S(r);for(const n of t)try{if(tb(n))return}catch{}ai(r,"unauthorized-domain")}function tb(r){const t=bd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!JS.test(n))return!1;if(ZS.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Il(3e4,6e4);function Cy(){const r=ii().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nb(r){return new Promise((t,n)=>{var s,l,c;function d(){Cy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cy(),n(Ln(r,"network-request-failed"))},timeout:eb.get()})}if(!((l=(s=ii().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ii().gapi)===null||c===void 0)&&c.load)d();else{const g=aS("iframefcb");return ii()[g]=()=>{gapi.load?d():n(Ln(r,"network-request-failed"))},rS(`${sS()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw dc=null,t})}let dc=null;function ib(r){return dc=dc||nb(r),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Il(5e3,15e3),sb="__/auth/iframe",ab="emulator/auth/iframe",ob={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ub(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Jd(t,ab):`https://${r.config.authDomain}/${sb}`,s={apiKey:t.apiKey,appName:r.name,v:ja},l=lb.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Rl(s).slice(1)}`}async function cb(r){const t=await ib(r),n=ii().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:ub(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ob,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ln(r,"network-request-failed"),g=ii().setTimeout(()=>{c(d)},rb.get());function p(){ii().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fb=500,db=600,mb="_blank",gb="http://localhost";class Dy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pb(r,t,n,s=fb,l=db){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},hb),{width:s.toString(),height:l.toString(),top:c,left:d}),_=Ye().toLowerCase();n&&(g=s0(_)?mb:n),i0(_)&&(t=t||gb,p.scrollbars="yes");const A=Object.entries(p).reduce((V,[j,X])=>`${V}${j}=${X},`,"");if($w(_)&&g!=="_self")return _b(t||"",g),new Dy(null);const C=window.open(t||"",g,A);yt(C,r,"popup-blocked");try{C.focus()}catch{}return new Dy(C)}function _b(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__/auth/handler",vb="emulator/auth/handler",Eb=encodeURIComponent("fac");async function Oy(r,t,n,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ja,eventId:l};if(t instanceof im){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",vA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Cl){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${Eb}=${encodeURIComponent(p)}`:"";return`${Tb(r)}?${Rl(g).slice(1)}${_}`}function Tb({config:r}){return r.emulator?Jd(r,vb):`https://${r.authDomain}/${yb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class Ab{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=QS,this._overrideRedirectResult=HS}async _openPopup(t,n,s,l){var c;zi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Oy(t,n,s,bd(),l);return pb(t,d,rm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Oy(t,n,s,bd(),l);return bS(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await cb(t),s=new YS(t);return n.register("authEvent",l=>(yt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gd,{type:gd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[gd];d!==void 0&&n(!!d),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WS(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return c0()||r0()||em()}}const wb=Ab;var Ny="@firebase/auth",Vy="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rb(r){Va(new ws("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h0(r)},_=new nS(s,l,c,p);return lS(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Va(new ws("auth-internal",t=>{const n=Bc(t.getProvider("auth").getImmediate());return(s=>new Sb(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Ny,Vy,bb(r)),Rr(Ny,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=5*60,Cb=Bv("authIdTokenMaxAge")||Ib;let My=null;const Db=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Cb)return;const l=n==null?void 0:n.token;My!==l&&(My=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ob(r=Kv()){const t=Yd(r,"auth");if(t.isInitialized())return t.getImmediate();const n=oS(r,{popupRedirectResolver:wb,persistence:[xS,AS,y0]}),s=Bv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Db(c.toString());_S(n,d,()=>d(n.currentUser)),pS(n,g=>d(g))}}const l=qv("auth");return l&&uS(n,`http://${l}`),n}function Nb(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}iS({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ln("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Nb().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rb("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Vb(r,t,n,s){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function g(A){try{_(s.next(A))}catch(C){d(C)}}function p(A){try{_(s.throw(A))}catch(C){d(C)}}function _(A){A.done?c(A.value):l(A.value).then(g,p)}_((s=s.apply(r,[])).next())})}function Mb(r,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(_){return function(A){return p([_,A])}}function p(_){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,l&&(c=_[0]&2?l.return:_[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,_[1])).done)return c;switch(l=0,c&&(_=[_[0]&2,c.value]),_[0]){case 0:case 1:c=_;break;case 4:return n.label++,{value:_[1],done:!1};case 5:n.label++,l=_[1],_=[0];continue;case 7:_=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(_[0]===6||_[0]===2)){n=0;continue}if(_[0]===3&&(!c||_[1]>c[0]&&_[1]<c[3])){n.label=_[1];break}if(_[0]===6&&n.label<c[1]){n.label=c[1],c=_;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(_);break}c[2]&&n.ops.pop(),n.trys.pop();continue}_=t.call(r,n)}catch(A){_=[6,A],l=0}finally{s=c=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ia=function(){return Ia=Object.assign||function(t){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ia.apply(this,arguments)},R0=function(r){return{loading:r==null,value:r}},xb=function(){return function(r,t){switch(t.type){case"error":return Ia(Ia({},r),{error:t.error,loading:!1,value:void 0});case"reset":return R0(t.defaultValue);case"value":return Ia(Ia({},r),{error:void 0,loading:!1,value:t.value});default:return r}}},kb=function(r){var t=r?r():void 0,n=xt.useReducer(xb(),R0(t)),s=n[0],l=n[1],c=xt.useCallback(function(){var p=r?r():void 0;l({type:"reset",defaultValue:p})},[r]),d=xt.useCallback(function(p){l({type:"error",error:p})},[]),g=xt.useCallback(function(p){l({type:"value",value:p})},[]);return xt.useMemo(function(){return{error:s.error,loading:s.loading,reset:c,setError:d,setValue:g,value:s.value}},[s.error,s.loading,c,d,g,s.value])},I0=function(r,t){var n=kb(function(){return r.currentUser}),s=n.error,l=n.loading,c=n.setError,d=n.setValue,g=n.value;return xt.useEffect(function(){var p=yS(r,function(_){return Vb(void 0,void 0,void 0,function(){var A;return Mb(this,function(C){switch(C.label){case 0:return[3,4];case 1:return C.trys.push([1,3,,4]),[4,t.onUserChanged(_)];case 2:return C.sent(),[3,4];case 3:return A=C.sent(),c(A),[3,4];case 4:return d(_),[2]}})})},c);return function(){p()}},[r]),[g,l,s]},xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,C0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(R,D,M){for(var I=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)I[ye-2]=arguments[ye];return w.prototype[D].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,S){S||(S=0);var R=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)R[D]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(D=0;16>D;++D)R[D]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],D=x.g[2];var M=x.g[3],I=w+(M^S&(D^M))+R[0]+3614090360&4294967295;w=S+(I<<7&4294967295|I>>>25),I=M+(D^w&(S^D))+R[1]+3905402710&4294967295,M=w+(I<<12&4294967295|I>>>20),I=D+(S^M&(w^S))+R[2]+606105819&4294967295,D=M+(I<<17&4294967295|I>>>15),I=S+(w^D&(M^w))+R[3]+3250441966&4294967295,S=D+(I<<22&4294967295|I>>>10),I=w+(M^S&(D^M))+R[4]+4118548399&4294967295,w=S+(I<<7&4294967295|I>>>25),I=M+(D^w&(S^D))+R[5]+1200080426&4294967295,M=w+(I<<12&4294967295|I>>>20),I=D+(S^M&(w^S))+R[6]+2821735955&4294967295,D=M+(I<<17&4294967295|I>>>15),I=S+(w^D&(M^w))+R[7]+4249261313&4294967295,S=D+(I<<22&4294967295|I>>>10),I=w+(M^S&(D^M))+R[8]+1770035416&4294967295,w=S+(I<<7&4294967295|I>>>25),I=M+(D^w&(S^D))+R[9]+2336552879&4294967295,M=w+(I<<12&4294967295|I>>>20),I=D+(S^M&(w^S))+R[10]+4294925233&4294967295,D=M+(I<<17&4294967295|I>>>15),I=S+(w^D&(M^w))+R[11]+2304563134&4294967295,S=D+(I<<22&4294967295|I>>>10),I=w+(M^S&(D^M))+R[12]+1804603682&4294967295,w=S+(I<<7&4294967295|I>>>25),I=M+(D^w&(S^D))+R[13]+4254626195&4294967295,M=w+(I<<12&4294967295|I>>>20),I=D+(S^M&(w^S))+R[14]+2792965006&4294967295,D=M+(I<<17&4294967295|I>>>15),I=S+(w^D&(M^w))+R[15]+1236535329&4294967295,S=D+(I<<22&4294967295|I>>>10),I=w+(D^M&(S^D))+R[1]+4129170786&4294967295,w=S+(I<<5&4294967295|I>>>27),I=M+(S^D&(w^S))+R[6]+3225465664&4294967295,M=w+(I<<9&4294967295|I>>>23),I=D+(w^S&(M^w))+R[11]+643717713&4294967295,D=M+(I<<14&4294967295|I>>>18),I=S+(M^w&(D^M))+R[0]+3921069994&4294967295,S=D+(I<<20&4294967295|I>>>12),I=w+(D^M&(S^D))+R[5]+3593408605&4294967295,w=S+(I<<5&4294967295|I>>>27),I=M+(S^D&(w^S))+R[10]+38016083&4294967295,M=w+(I<<9&4294967295|I>>>23),I=D+(w^S&(M^w))+R[15]+3634488961&4294967295,D=M+(I<<14&4294967295|I>>>18),I=S+(M^w&(D^M))+R[4]+3889429448&4294967295,S=D+(I<<20&4294967295|I>>>12),I=w+(D^M&(S^D))+R[9]+568446438&4294967295,w=S+(I<<5&4294967295|I>>>27),I=M+(S^D&(w^S))+R[14]+3275163606&4294967295,M=w+(I<<9&4294967295|I>>>23),I=D+(w^S&(M^w))+R[3]+4107603335&4294967295,D=M+(I<<14&4294967295|I>>>18),I=S+(M^w&(D^M))+R[8]+1163531501&4294967295,S=D+(I<<20&4294967295|I>>>12),I=w+(D^M&(S^D))+R[13]+2850285829&4294967295,w=S+(I<<5&4294967295|I>>>27),I=M+(S^D&(w^S))+R[2]+4243563512&4294967295,M=w+(I<<9&4294967295|I>>>23),I=D+(w^S&(M^w))+R[7]+1735328473&4294967295,D=M+(I<<14&4294967295|I>>>18),I=S+(M^w&(D^M))+R[12]+2368359562&4294967295,S=D+(I<<20&4294967295|I>>>12),I=w+(S^D^M)+R[5]+4294588738&4294967295,w=S+(I<<4&4294967295|I>>>28),I=M+(w^S^D)+R[8]+2272392833&4294967295,M=w+(I<<11&4294967295|I>>>21),I=D+(M^w^S)+R[11]+1839030562&4294967295,D=M+(I<<16&4294967295|I>>>16),I=S+(D^M^w)+R[14]+4259657740&4294967295,S=D+(I<<23&4294967295|I>>>9),I=w+(S^D^M)+R[1]+2763975236&4294967295,w=S+(I<<4&4294967295|I>>>28),I=M+(w^S^D)+R[4]+1272893353&4294967295,M=w+(I<<11&4294967295|I>>>21),I=D+(M^w^S)+R[7]+4139469664&4294967295,D=M+(I<<16&4294967295|I>>>16),I=S+(D^M^w)+R[10]+3200236656&4294967295,S=D+(I<<23&4294967295|I>>>9),I=w+(S^D^M)+R[13]+681279174&4294967295,w=S+(I<<4&4294967295|I>>>28),I=M+(w^S^D)+R[0]+3936430074&4294967295,M=w+(I<<11&4294967295|I>>>21),I=D+(M^w^S)+R[3]+3572445317&4294967295,D=M+(I<<16&4294967295|I>>>16),I=S+(D^M^w)+R[6]+76029189&4294967295,S=D+(I<<23&4294967295|I>>>9),I=w+(S^D^M)+R[9]+3654602809&4294967295,w=S+(I<<4&4294967295|I>>>28),I=M+(w^S^D)+R[12]+3873151461&4294967295,M=w+(I<<11&4294967295|I>>>21),I=D+(M^w^S)+R[15]+530742520&4294967295,D=M+(I<<16&4294967295|I>>>16),I=S+(D^M^w)+R[2]+3299628645&4294967295,S=D+(I<<23&4294967295|I>>>9),I=w+(D^(S|~M))+R[0]+4096336452&4294967295,w=S+(I<<6&4294967295|I>>>26),I=M+(S^(w|~D))+R[7]+1126891415&4294967295,M=w+(I<<10&4294967295|I>>>22),I=D+(w^(M|~S))+R[14]+2878612391&4294967295,D=M+(I<<15&4294967295|I>>>17),I=S+(M^(D|~w))+R[5]+4237533241&4294967295,S=D+(I<<21&4294967295|I>>>11),I=w+(D^(S|~M))+R[12]+1700485571&4294967295,w=S+(I<<6&4294967295|I>>>26),I=M+(S^(w|~D))+R[3]+2399980690&4294967295,M=w+(I<<10&4294967295|I>>>22),I=D+(w^(M|~S))+R[10]+4293915773&4294967295,D=M+(I<<15&4294967295|I>>>17),I=S+(M^(D|~w))+R[1]+2240044497&4294967295,S=D+(I<<21&4294967295|I>>>11),I=w+(D^(S|~M))+R[8]+1873313359&4294967295,w=S+(I<<6&4294967295|I>>>26),I=M+(S^(w|~D))+R[15]+4264355552&4294967295,M=w+(I<<10&4294967295|I>>>22),I=D+(w^(M|~S))+R[6]+2734768916&4294967295,D=M+(I<<15&4294967295|I>>>17),I=S+(M^(D|~w))+R[13]+1309151649&4294967295,S=D+(I<<21&4294967295|I>>>11),I=w+(D^(S|~M))+R[4]+4149444226&4294967295,w=S+(I<<6&4294967295|I>>>26),I=M+(S^(w|~D))+R[11]+3174756917&4294967295,M=w+(I<<10&4294967295|I>>>22),I=D+(w^(M|~S))+R[2]+718787259&4294967295,D=M+(I<<15&4294967295|I>>>17),I=S+(M^(D|~w))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+M&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,R=this.B,D=this.h,M=0;M<w;){if(D==0)for(;M<=S;)l(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<w;)if(R[D++]=x.charCodeAt(M++),D==this.blockSize){l(this,R),D=0;break}}else for(;M<w;)if(R[D++]=x[M++],D==this.blockSize){l(this,R),D=0;break}}this.h=D,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var R=0;32>R;R+=8)x[S++]=this.g[w]>>>R&255;return x};function c(x,w){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;for(var S=[],R=!0,D=x.length-1;0<=D;D--){var M=x[D]|0;R&&M==w||(S[D]=M,R=!1)}this.g=S}var g={};function p(x){return-128<=x&&128>x?c(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return Z(_(-x));for(var w=[],S=1,R=0;x>=S;R++)w[R]=x/S|0,S*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return Z(A(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(w,8)),R=C,D=0;D<x.length;D+=8){var M=Math.min(8,x.length-D),I=parseInt(x.substring(D,D+M),w);8>M?(M=_(Math.pow(w,M)),R=R.j(M).add(_(I))):(R=R.j(S),R=R.add(_(I)))}return R}var C=p(0),V=p(1),j=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var R=this.i(S);x+=(0<=R?R:4294967296+R)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(X(this))return"0";if(nt(this))return"-"+Z(this).toString(x);for(var w=_(Math.pow(x,6)),S=this,R="";;){var D=Ct(S,w).g;S=Et(S,D.j(w));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=D,X(S))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function X(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function nt(x){return x.h==-1}r.l=function(x){return x=Et(this,x),nt(x)?-1:X(x)?0:1};function Z(x){for(var w=x.g.length,S=[],R=0;R<w;R++)S[R]=~x.g[R];return new d(S,~x.h).add(V)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],R=0,D=0;D<=w;D++){var M=R+(this.i(D)&65535)+(x.i(D)&65535),I=(M>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);R=I>>>16,M&=65535,I&=65535,S[D]=I<<16|M}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Et(x,w){return x.add(Z(w))}r.j=function(x){if(X(this)||X(x))return C;if(nt(this))return nt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(nt(x))return Z(this.j(Z(x)));if(0>this.l(j)&&0>x.l(j))return _(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],R=0;R<2*w;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<x.g.length;D++){var M=this.i(R)>>>16,I=this.i(R)&65535,ye=x.i(D)>>>16,re=x.i(D)&65535;S[2*R+2*D]+=I*re,ct(S,2*R+2*D),S[2*R+2*D+1]+=M*re,ct(S,2*R+2*D+1),S[2*R+2*D+1]+=I*ye,ct(S,2*R+2*D+1),S[2*R+2*D+2]+=M*ye,ct(S,2*R+2*D+2)}for(R=0;R<w;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=w;R<2*w;R++)S[R]=0;return new d(S,0)};function ct(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ot(x,w){this.g=x,this.h=w}function Ct(x,w){if(X(w))throw Error("division by zero");if(X(x))return new ot(C,C);if(nt(x))return w=Ct(Z(x),w),new ot(Z(w.g),Z(w.h));if(nt(w))return w=Ct(x,Z(w)),new ot(Z(w.g),w.h);if(30<x.g.length){if(nt(x)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var S=V,R=w;0>=R.l(x);)S=_t(S),R=_t(R);var D=Dt(S,1),M=Dt(R,1);for(R=Dt(R,2),S=Dt(S,2);!X(R);){var I=M.add(R);0>=I.l(x)&&(D=D.add(S),M=I),R=Dt(R,1),S=Dt(S,1)}return w=Et(x,D.j(w)),new ot(D,w)}for(D=C;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=_(S),I=M.j(w);nt(I)||0<I.l(x);)S-=R,M=_(S),I=M.j(w);X(M)&&(M=V),D=D.add(M),x=Et(x,I)}return new ot(D,x)}r.A=function(x){return Ct(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)&x.i(R);return new d(S,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)|x.i(R);return new d(S,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],R=0;R<w;R++)S[R]=this.i(R)^x.i(R);return new d(S,this.h^x.h)};function _t(x){for(var w=x.g.length+1,S=[],R=0;R<w;R++)S[R]=x.i(R)<<1|x.i(R-1)>>>31;return new d(S,x.h)}function Dt(x,w){var S=w>>5;w%=32;for(var R=x.g.length-S,D=[],M=0;M<R;M++)D[M]=0<w?x.i(M+S)>>>w|x.i(M+S+1)<<32-w:x.i(M+S);return new d(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ir=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,sl,O0,mc,Cd,N0,V0,M0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,P={next:function(){if(!T&&y<u.length){var B=y++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function V(u,m,y){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,V.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,P,B){for(var W=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)W[kt-2]=arguments[kt];return m.prototype[P].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const P=u.length||0,B=T.length||0;u.length=P+B;for(let W=0;W<B;W++)u[P+W]=T[W]}else u.push(T)}}class Et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ct(u){return Ct[" "](u),u}Ct[" "]=function(){};var _t=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Dt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let B=0;B<S.length;B++)y=S[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function D(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function M(u){g.setTimeout(()=>{throw u},0)}function I(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Et(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,zt=new ye,O=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){M(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Ct(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,J);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function qn(u,m,y,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function Gi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,y,T,P){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var W=Pr(u,m,T,P);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new qn(m,this.src,B,!!T,P),m.fa=y,u.push(m)),m};function kr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=P)&&Array.prototype.splice.call(T,P,1),B&&(Gi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Pr(u,m,y,T){for(var P=0;P<u.length;++P){var B=u[P];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return P}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),Ya={};function xl(u,m,y,T,P){if(Array.isArray(m)){for(var B=0;B<m.length;B++)xl(u,m[B],y,T,P);return null}return y=kl(y),u&&u[Ie]?u.K(m,y,_(T)?!!T.capture:!1,P):dn(u,m,y,!1,T,P)}function dn(u,m,y,T,P,B){if(!m)throw Error("Invalid event type");var W=_(P)?!!P.capture:!!P,kt=Vs(u);if(kt||(u[Ur]=kt=new ui(u)),y=kt.add(m,y,T,W,B),y.proxy)return y;if(T=nh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function nh(){function u(y){return m.call(u.src,u.listener,y)}const m=ih;return u}function Xa(u,m,y,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xa(u,m[B],y,T,P);else T=_(T)?!!T.capture:!!T,y=kl(y),u&&u[Ie]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],y=Pr(B,y,T,P),-1<y&&(Gi(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pr(m,y,T,P)),(y=-1<u?m[u]:null)&&Ns(y))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])kr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Lr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Vs(m))?(kr(y,u),y.h==0&&(y.src=null,m[Ur]=null)):Gi(u)}}}function Lr(u){return u in Ya?Ya[u]:Ya[u]="on"+u}function ih(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ns(u),u=y.call(T,m)}return u}function Vs(u){return u=u[Ur],u instanceof ui?u:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function se(){et.call(this),this.i=new ui(this),this.M=this,this.F=null}X(se,et),se.prototype[Ie]=!0,se.prototype.removeEventListener=function(u,m,y,T){Xa(this,u,m,y,T)};function Gt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var P=m;m=new J(T,u),R(m,P)}if(P=!0,y)for(var B=y.length-1;0<=B;B--){var W=m.g=y[B];P=rn(W,T,!0,m)&&P}if(W=m.g=u,P=rn(W,T,!0,m)&&P,P=rn(W,T,!1,m)&&P,y)for(B=0;B<y.length;B++)W=m.g=y[B],P=rn(W,T,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Gi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function rn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,B=0;B<m.length;++B){var W=m[B];if(W&&!W.da&&W.capture==y){var kt=W.listener,Ee=W.ha||W.src;W.fa&&kr(u.i,W),P=kt.call(Ee,T)!==!1&&P}}return P&&!T.defaultPrevented}function je(u,m,y){if(typeof u=="function")y&&(u=V(u,y));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pl(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,Pl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){et.call(this),this.h=u,this.g={}}X(qr,et);var zr=[];function Br(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ns(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Br(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ms=g.JSON.parse,jr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Za(){}Za.prototype.h=null;function Ja(u){return u.h||(u.h=u.i())}function Wa(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){J.call(this,"d")}X(hi,J);function to(){J.call(this,"c")}X(to,J);var zn={},eo=null;function Fi(){return eo=eo||new se}zn.La="serverreachability";function xs(u){J.call(this,zn.La,u)}X(xs,J);function Qi(u){const m=Fi();Gt(m,new xs(m))}zn.STAT_EVENT="statevent";function Ul(u,m){J.call(this,zn.STAT_EVENT,u),this.stat=m}X(Ul,J);function te(u){const m=Fi();Gt(m,new Ul(m,u))}zn.Ma="timingevent";function ve(u,m){J.call(this,zn.Ma,u),this.size=m}X(ve,J);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function no(u,m,y,T,P,B){u.info(function(){if(u.g)if(B)for(var W="",kt=B.split("&"),Ee=0;Ee<kt.length;Ee++){var Pt=kt[Ee].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Te=De.split("_");W=2<=Te.length&&Te[1]=="type"?W+(De+"="+Pt+"&"):W+(De+"=redacted&")}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+y+`
`+W})}function sh(u,m,y,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+y+`
`+B+" "+W})}function Ki(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hr(u,y)+(T?" "+T:"")})}function Ll(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Hr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return Dn(y)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function jn(){}X(jn,Za),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Bn=new jn;function Xe(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var io={},ks={};function On(u,m,y){u.L=1,u.v=Yr(sn(m)),u.m=y,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Gr(u),u.A=sn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),uo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ue,u.g=tu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new rh(V(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(zr[0]=P.toString()),P=zr);for(var B=0;B<P.length;B++){var W=xl(y,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),no(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Te=yn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Qi(3):Qi(2)),Xi(this);var y=this.g.Z();this.X=y;e:if(ql(this)){var T=Ql(this.g);u="";var P=T.length,B=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Hn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,sh(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ee=this.g;if((kt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(kt)){var Pt=kt;break e}}Pt=null}if(y=Pt)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,y);else{this.o=!1,this.s=3,te(12),xe(this),Hn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<W.length;)if(ke=zl(this,W),ke==ks){Te==4&&(this.s=4,te(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==io){this.s=4,te(15),Ki(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,ke,null),Fr(this,ke);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),Hn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ns(De),De.M=!0,te(11))}}else Ki(this.i,this.l,W,null),Fr(this,W);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Zl(this.j,this):(this.o=!1,Gr(this)))}else ch(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),Hn(this)}}}catch{}finally{}};function ql(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ks:(y=Number(m.substring(y,T)),isNaN(y)?io:(T+=1,T+y>m.length?ks:(m=m.slice(T,T+y),u.C=T+y,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function Gr(u){u.S=Date.now()+u.I,Bl(u,u.I)}function Bl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(V(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ll(this.i,this.A),this.L!=2&&(Qi(),te(17)),xe(this),this.s=2,Hn(this)):Bl(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Zl(u.j,u)}function xe(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Br(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ro(y.h,u))){if(!u.K&&ro(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ks(y),Fs(y);else break t;go(y),te(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(V(y.Za,y),6e3));if(1>=Us(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ei(y,11)}else if((u.K||y.g==u)&&Ks(y),!ct(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let Pt=P[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const De=Pt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Te=Pt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Ti=Pt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const $n=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var B=T.h;B.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ls(B,B.h),B.h=null))}if(T.D){const _o=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(T.ya=_o,Kt(T.I,T.D,_o))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=Wl(T,T.J?T.ia:null,T.W),W.K){$e(T.h,W);var kt=W,Ee=T.L;Ee&&(kt.I=Ee),kt.B&&(Xi(kt),Gr(kt)),T.g=W}else Xl(T);0<y.i.length&&Qs(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Ei(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ei(y,7):fo(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Qi(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Us(u){return u.h?1:u.g?u.g.size:0}function ro(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ls(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function so(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ao(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=qs(u),T=ah(u),P=T.length,B=0;B<P;B++)m.call(void 0,T[B],y&&y[B],u)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),P=null;if(0<=T){var B=u[y].substring(0,T);P=u[y].substring(T+1)}else B=u[y];m(B,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Kr(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new pi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),gi(this,y),this.m=u.m}else u&&(m=String(u).match(Qr))?(this.h=!1,Kr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),$i(this,m[4]),this.l=gn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,oo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,oo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Xr(y,y.charAt(0)=="/"?lh:lo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Xr(y,zs)),u.join("")};function sn(u){return new me(u)}function Kr(u,m,y){u.j=y?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,y){m instanceof pi?(u.i=m,Gl(u.i,u.h)):(y||(m=Xr(m,uh)),u.i=new pi(m,u.h))}function Kt(u,m,y){u.i.set(m,y)}function Yr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Hl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,lo=/[#\?:]/g,lh=/[#\?]/g,uh=/[#\?@]/g,zs=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&oh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=pi.prototype,r.add=function(u,m){pn(this),this.i=null,u=Gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function _i(u,m){pn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return pn(u),m=Gn(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(m,P,T,this)},this)},this)},r.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const P=u[T];for(let B=0;B<P.length;B++)y.push(m[T])}return y},r.V=function(u){pn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return pn(this),this.i=null,u=Gn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function uo(u,m,y){_i(u,m),0<y.length&&(u.i=null,u.g.set(Gn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const B=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var P=B;W[T]!==""&&(P+="="+encodeURIComponent(String(W[T]))),u.push(P)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gl(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(y,T){var P=T.toLowerCase();T!=P&&(_i(this,T),uo(this,P,y))},u)),u.j=m}function $r(u,m){const y=new mn;if(g.Image){const T=new Image;T.onload=j(_n,y,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,y,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const y=new mn,T=new AbortController,P=setTimeout(()=>{T.abort(),_n(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?_n(y,"TestPingServer: ok",!0,m):_n(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),_n(y,"TestPingServer: error",!1,m)})}function _n(u,m,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function Zr(){this.g=new jr}function Fn(u,m,y){const T=y||"";try{ao(u,function(P,B){let W=P;_(P)&&(W=Dn(P)),m.push(T+B+"="+encodeURIComponent(W))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Zi,Za),Zi.prototype.g=function(){return new vi(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(vi,se),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&co(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ho(u){let m="";return Dt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=ho(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Kt(u,m,y))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,se);var Bs=/^https?$/i,Jr=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ja(this.o):Ja(Bn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Fl(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Jr,m,void 0))||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of y)this.g.setRequestHeader(B,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Fl(this,B)}};function Fl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,js(u),Yn(u)}function js(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Hs(this):this.bb())},r.bb=function(){Hs(this)};function Hs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)je(u.Ea,0,u);else if(Gt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var P=String(u.D).match(Qr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Bs.test(P?P.toLowerCase():"")}y=T}if(y)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var B=2<yn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",js(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Wr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ms(m)}};function Ql(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ch(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ct(u[T]))continue;var y=D(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[P]||[];m[P]=B,B.push(y)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Gs(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Gs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){te(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Wl(this,null,this.W),Qs(this)};function fo(u){if(Kl(u),u.G==3){var m=u.U++,y=sn(u.I);if(Kt(y,"SID",u.K),Kt(y,"RID",m),Kt(y,"TYPE","terminate"),es(u,y),m=new Xe(u,u.j,m),m.L=2,m.v=Yr(sn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gr(m)}Jl(u)}function Fs(u){u.g&&(ns(u),u.g.cancel(),u.g=null)}function Kl(u){Fs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Qs(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||O(),lt||(tt(),lt=!0),zt.add(m,u),u.B=0}}function hh(u,m){return Us(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(V(u.Ga,u,m),po(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Xe(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(P.H=B,B=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Yl(this,P,m),y=sn(this.I),Kt(y,"RID",u),Kt(y,"CVER",22),this.D&&Kt(y,"X-HTTP-Session-Id",this.D),es(this,y),B&&(this.O?m="headers="+encodeURIComponent(String(ho(B)))+"&"+m:this.m&&Ce(y,this.m,B)),Ls(this.h,P),this.Ua&&Kt(y,"TYPE","init"),this.P?(Kt(y,"$req",m),Kt(y,"SID","null"),P.T=!0,On(P,y,null)):On(P,y,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||Ps(this.h)||mo(this))};function mo(u,m){var y;m?y=m.l:y=u.U++;const T=sn(u.I);Kt(T,"SID",u.K),Kt(T,"RID",y),Kt(T,"AID",u.T),es(u,T),u.m&&u.o&&Ce(T,u.m,u.o),y=new Xe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ls(u.h,y),On(y,T,m)}function es(u,m){u.H&&Dt(u.H,function(y,T){Kt(m,T,y)}),u.l&&ao({},function(y,T){Kt(m,T,y)})}function Yl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?V(u.l.Na,u.l,u):null;t:{var P=u.i;let B=-1;for(;;){const W=["count="+y];B==-1?0<y?(B=P[0].g,W.push("ofs="+B)):B=0:W.push("ofs="+B);let kt=!0;for(let Ee=0;Ee<y;Ee++){let Pt=P[Ee].g;const De=P[Ee].map;if(Pt-=B,0>Pt)B=Math.max(0,P[Ee].g-100),kt=!1;else try{Fn(De,W,"req"+Pt+"_")}catch{T&&T(De)}}if(kt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Xl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||O(),lt||(tt(),lt=!0),zt.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(V(u.Fa,u),po(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,$l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Fs(this),$l(this))};function ns(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function $l(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),es(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Yr(sn(m)),y.m=null,y.P=!0,di(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Fs(this),go(this),te(19))};function Ks(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Zl(u,m){var y=null;if(u.g==m){Ks(u),ns(u),u.g=null;var T=2}else if(ro(u.h,m))y=m.D,$e(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Fi(),Gt(T,new ve(T,y)),Qs(u)}else Xl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&hh(u,m)||T==2&&go(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function po(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var y=V(u.fb,u),T=u.Xa;const P=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Kr(T,"https"),Yr(T),P?$r(T.toString(),y):Nn(T.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),Jl(u),Kl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Jl(u){if(u.G=0,u.ka=[],u.l){const m=so(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Wl(u,m,y){var T=y instanceof me?sn(y):new me(y);if(T.g!="")m&&(T.g=m+"."+T.g),$i(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var B=new me(null);T&&Kr(B,T),m&&(B.g=m),P&&$i(B,P),y&&(B.l=y),T=B}return y=u.D,m=u.ya,y&&m&&Kt(T,y,m),Kt(T,"VER",u.la),es(u,T),T}function tu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Zi({eb:y})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}X(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){fo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Dn(u),u=y);m.i.push(new jl(m.Ya++,u)),m.G==3&&Qs(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,Ze.aa.N.call(this)};function nu(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(nu,hi);function iu(){to.call(this),this.status=1}X(iu,to);function Xn(u){this.g=u}X(Xn,eu),Xn.prototype.ua=function(){Gt(this.g,"a")},Xn.prototype.ta=function(u){Gt(this.g,new nu(u))},Xn.prototype.sa=function(u){Gt(this.g,new iu)},Xn.prototype.ra=function(){Gt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,M0=function(){return new Ys},V0=function(){return Fi()},N0=zn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,mc=Yi,fi.COMPLETE="complete",O0=fi,Wa.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",se.prototype.listen=se.prototype.K,sl=Wa,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,D0=jt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",Py="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Qd("@firebase/firestore");function wa(){return bs.logLevel}function it(r,...t){if(bs.logLevel<=Vt.DEBUG){const n=t.map(am);bs.debug(`Firestore (${Ga}): ${r}`,...n)}}function Bi(r,...t){if(bs.logLevel<=Vt.ERROR){const n=t.map(am);bs.error(`Firestore (${Ga}): ${r}`,...n)}}function xa(r,...t){if(bs.logLevel<=Vt.WARN){const n=t.map(am);bs.warn(`Firestore (${Ga}): ${r}`,...n)}}function am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,x0(r,s,n)}function x0(r,t,n){let s=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Bi(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||x0(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Hi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class Ub{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lb{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new k0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class qb{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zb{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new qb(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bb{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=jb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function bt(r,t){return r<t?-1:r>t?1:0}function Dd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return bt(s,l);{const c=P0(),d=Hb(c.encode(Ly(r,n)),c.encode(Ly(t,n)));return d!==0?d:bt(s,l)}}n+=s>65535?2:1}return bt(r.length,t.length)}function Ly(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Hb(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return bt(r[n],t[n]);return bt(r.length,t.length)}function ka(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,zy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*zy);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qy)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new be(0,0))}static max(){return new Tt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__name__";class ni{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ni.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return bt(t.length,n.length)}static compareSegments(t,n){const s=ni.isNumericId(t),l=ni.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ni.extractNumericId(t).compare(ni.extractNumericId(n)):Dd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class le extends ni{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new le(n)}static emptyPath(){return new le([])}}const Gb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ni{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return Gb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new ze([By])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function Fb(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Dr(l,dt.empty(),t)}function Qb(r){return new Dr(r.readTime,r.key,pl)}class Dr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Dr(Tt.min(),dt.empty(),pl)}static max(){return new Dr(Tt.max(),dt.empty(),pl)}}function Kb(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Yb)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{d[_]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new K((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function $b(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Gc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Fc(r){return r==null}function Cc(r){return r===0&&1/r==-1/0}function Zb(r){return typeof r=="number"&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="";function Jb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=jy(t)),t=Wb(r.get(n),t);return jy(t)}function Wb(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case L0:n+="";break;default:n+=c}}return n}function jy(r){return r+L0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ac(this.root,t,this.comparator,!0)}}class ac{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??qe.RED,this.left=l??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new qe(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(t){return new Gy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Gy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Un([])}unionWith(t){let n=new Re(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new z0("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=tR.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="server_timestamp",j0="__type__",H0="__previous_value__",G0="__local_write_time__";function lm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[j0])===null||n===void 0?void 0:n.stringValue)===B0}function Qc(r){const t=r.mapValue.fields[H0];return lm(t)?Qc(t):t}function _l(r){const t=Or(r.mapValue.fields[G0].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,n,s,l,c,d,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Dc="(default)";class yl{constructor(t,n){this.projectId=t,this.database=n||Dc}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",nR="__max__",oc={mapValue:{}},Q0="__vector__",Oc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lm(r)?4:rR(r)?9007199254740991:iR(r)?10:11:pt(28295,{value:r})}function oi(r,t){if(r===t)return!0;const n=Vr(r);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _l(r).isEqual(_l(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Or(l.timestampValue),g=Or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Nr(l.bytesValue).isEqual(Nr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=fe(l.doubleValue),g=fe(c.doubleValue);return d===g?Cc(d)===Cc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return ka(r.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Hy(d)!==Hy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(r,t);default:return pt(52216,{left:r})}}function vl(r,t){return(r.values||[]).find(n=>oi(n,t))!==void 0}function Pa(r,t){if(r===t)return 0;const n=Vr(r),s=Vr(t);if(n!==s)return bt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=fe(c.integerValue||c.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Fy(r.timestampValue,t.timestampValue);case 4:return Fy(_l(r),_l(t));case 5:return Dd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Nr(c),p=Nr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=bt(g[_],p[_]);if(A!==0)return A}return bt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(fe(c.latitude),fe(d.latitude));return g!==0?g:bt(fe(c.longitude),fe(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Qy(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,A;const C=c.fields||{},V=d.fields||{},j=(g=C[Oc])===null||g===void 0?void 0:g.arrayValue,X=(p=V[Oc])===null||p===void 0?void 0:p.arrayValue,nt=bt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Qy(j,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===oc.mapValue&&d===oc.mapValue)return 0;if(c===oc.mapValue)return 1;if(d===oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const V=Dd(p[C],A[C]);if(V!==0)return V;const j=Pa(g[p[C]],_[A[C]]);if(j!==0)return j}return bt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw pt(23264,{Pe:n})}}function Fy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return bt(r,t);const n=Or(r),s=Or(t),l=bt(n.seconds,s.seconds);return l!==0?l:bt(n.nanos,s.nanos)}function Qy(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Pa(n[l],s[l]);if(c)return c}return bt(n.length,s.length)}function Ua(r){return Od(r)}function Od(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Nr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Od(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Od(n.fields[d])}`;return l+"}"}(r.mapValue):pt(61005,{value:r})}function gc(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qc(r);return t?16+gc(t):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+gc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Is(s.fields,(c,d)=>{l+=c.length+gc(d)}),l}(r.mapValue);default:throw pt(13486,{value:r})}}function Nd(r){return!!r&&"integerValue"in r}function um(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Yy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pc(r){return!!r&&"mapValue"in r}function iR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[F0])===null||n===void 0?void 0:n.stringValue)===Q0}function cl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Is(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=cl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function rR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!pc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cl(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=cl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Is(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Rn(cl(this.value))}}function K0(r){const t=[];return Is(r.fields,(n,s)=>{const l=new ze([n]);if(pc(s)){const c=K0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,Tt.min(),Tt.min(),Tt.min(),Rn.empty(),0)}static newFoundDocument(t,n,s,l){return new Ke(t,1,n,Tt.min(),s,l,0)}static newNoDocument(t,n){return new Ke(t,2,n,Tt.min(),Tt.min(),Rn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,Tt.min(),Tt.min(),Rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.position=t,this.inclusive=n}}function Xy(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=Pa(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $y(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!oi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n="asc"){this.field=t,this.dir=n}}function sR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class Se extends Y0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new oR(t,n,s):n==="array-contains"?new cR(t,s):n==="in"?new hR(t,s):n==="not-in"?new fR(t,s):n==="array-contains-any"?new dR(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new lR(t,s):new uR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Y0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new li(t,n)}matches(t){return X0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function X0(r){return r.op==="and"}function $0(r){return aR(r)&&X0(r)}function aR(r){for(const t of r.filters)if(t instanceof li)return!1;return!0}function Vd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Ua(r.value);if($0(r))return r.filters.map(t=>Vd(t)).join(",");{const t=r.filters.map(n=>Vd(n)).join(",");return`${r.op}(${t})`}}function Z0(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&oi(s.value,l.value)}(r,t):r instanceof li?function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&Z0(d,l.filters[g]),!0):!1}(r,t):void pt(19439)}function J0(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(r):r instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"}(r):"Filter"}class oR extends Se{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class lR extends Se{constructor(t,n){super(t,"in",n),this.keys=W0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uR extends Se{constructor(t,n){super(t,"not-in",n),this.keys=W0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function W0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class cR extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return um(n)&&vl(n.arrayValue,this.value)}}class hR extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class fR extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vl(this.value.arrayValue,n)}}class dR extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function Zy(r,t=null,n=[],s=[],l=null,c=null,d=null){return new mR(r,t,n,s,l,c,d)}function cm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Vd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Fc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ua(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ua(s)).join(",")),t.Ie=n}return t.Ie}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Z0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$y(r.startAt,t.startAt)&&$y(r.endAt,t.endAt)}function Md(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gR(r,t,n,s,l,c,d,g){return new Kc(r,t,n,s,l,c,d,g)}function fm(r){return new Kc(r)}function Jy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pR(r){return r.collectionGroup!==null}function hl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Vc(c,s))}),n.has(ze.keyField().canonicalString())||t.Ee.push(new Vc(ze.keyField(),s))}return t.Ee}function ri(r){const t=At(r);return t.de||(t.de=_R(t,hl(r))),t.de}function _R(r,t){if(r.limitType==="F")return Zy(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Vc(l.field,c)});const n=r.endAt?new Nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nc(r.startAt.position,r.startAt.inclusive):null;return Zy(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function xd(r,t,n){return new Kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Yc(r,t){return hm(ri(r),ri(t))&&r.limitType===t.limitType}function tE(r){return`${cm(ri(r))}|lt:${r.limitType}`}function Sa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>J0(l)).join(", ")}]`),Fc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ua(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ua(l)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Xc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of hl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=Xy(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,hl(s),l)||s.endAt&&!function(d,g,p){const _=Xy(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,hl(s),l))}(r,t)}function yR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eE(r){return(t,n)=>{let s=!1;for(const l of hl(r)){const c=vR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function vR(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Pa(p,_):pt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Is(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new ie(dt.comparator);function ji(){return ER}const nE=new ie(dt.comparator);function al(...r){let t=nE;for(const n of r)t=t.insert(n.key,n);return t}function iE(r){let t=nE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Es(){return fl()}function rE(){return fl()}function fl(){return new Cs(r=>r.toString(),(r,t)=>r.isEqual(t))}const TR=new ie(dt.comparator),AR=new Re(dt.comparator);function Mt(...r){let t=AR;for(const n of r)t=t.add(n);return t}const wR=new Re(bt);function SR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(t)?"-0":t}}function sE(r){return{integerValue:""+r}}function bR(r,t){return Zb(t)?sE(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function RR(r,t,n){return r instanceof Mc?function(l,c){const d={fields:{[j0]:{stringValue:B0},[G0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&lm(c)&&(c=Qc(c)),c&&(d.fields[H0]=c),{mapValue:d}}(n,t):r instanceof El?oE(r,t):r instanceof Tl?lE(r,t):function(l,c){const d=aE(l,c),g=Wy(d)+Wy(l.Re);return Nd(d)&&Nd(l.Re)?sE(g):dm(l.serializer,g)}(r,t)}function IR(r,t,n){return r instanceof El?oE(r,t):r instanceof Tl?lE(r,t):n}function aE(r,t){return r instanceof xc?function(s){return Nd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Mc extends $c{}class El extends $c{constructor(t){super(),this.elements=t}}function oE(r,t){const n=uE(t);for(const s of r.elements)n.some(l=>oi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Tl extends $c{constructor(t){super(),this.elements=t}}function lE(r,t){let n=uE(t);for(const s of r.elements)n=n.filter(l=>!oi(l,s));return{arrayValue:{values:n}}}class xc extends $c{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Wy(r){return fe(r.integerValue||r.doubleValue)}function uE(r){return um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function CR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof El&&l instanceof El||s instanceof Tl&&l instanceof Tl?ka(s.elements,l.elements,oi):s instanceof xc&&l instanceof xc?oi(s.Re,l.Re):s instanceof Mc&&l instanceof Mc}(r.transform,t.transform)}class DR{constructor(t,n){this.version=t,this.transformResults=n}}class Li{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _c(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zc{}function cE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new fE(r.key,Li.none()):new Ol(r.key,r.data,Li.none());{const n=r.data,s=Rn.empty();let l=new Re(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ds(r.key,s,new Un(l.toArray()),Li.none())}}function OR(r,t,n){r instanceof Ol?function(l,c,d){const g=l.value.clone(),p=ev(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Ds?function(l,c,d){if(!_c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=ev(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(hE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function dl(r,t,n,s){return r instanceof Ol?function(c,d,g,p){if(!_c(c.precondition,d))return g;const _=c.value.clone(),A=nv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ds?function(c,d,g,p){if(!_c(c.precondition,d))return g;const _=nv(c.fieldTransforms,p,d),A=d.data;return A.setAll(hE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,n,s):function(c,d,g){return _c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function NR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=aE(s.transform,l||null);c!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,c))}return n||null}function tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ka(s,l,(c,d)=>CR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ol extends Zc{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ds extends Zc{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function ev(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,IR(d,g,n[l]))}return s}function nv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,RR(c,d,t))}return s}class fE extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&OR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=dl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=dl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=cE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&ka(this.mutations,t.mutations,(n,s)=>tv(n,s))&&ka(this.baseMutations,t.baseMutations,(n,s)=>tv(n,s))}}class mm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return TR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new mm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function PR(r){switch(r){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function dE(r){if(r===void 0)return Bi("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Ir([4294967295,4294967295],0);function iv(r){const t=P0().encode(r),n=new C0;return n.update(t),new Uint8Array(n.digest())}function rv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ir([n,s],0),new Ir([l,c],0)]}class gm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(s<0)throw new ol(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ir.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Ir.fromNumber(s)));return l.compare(UR)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=iv(t),[s,l]=rv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new gm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=iv(t),[s,l]=rv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Nl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Jc(Tt.min(),l,new ie(bt),ji(),Mt())}}class Nl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class mE{constructor(t,n){this.targetId=t,this.Ce=n}}class gE{constructor(t,n,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class sv{constructor(){this.Fe=0,this.Me=av(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),n=Mt(),s=Mt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}}),new Nl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=av()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LR{constructor(t){this.ze=t,this.je=new Map,this.He=ji(),this.Je=lc(),this.Ye=lc(),this.Ze=new ie(bt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Md(c))if(s===0){const d=new dt(c.path);this.tt(n,d,Ke.newNoDocument(d,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Nr(s).toUint8Array()}catch(p){if(p instanceof z0)return xa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new gm(d,l,c)}catch(p){return xa(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Md(g.target)){const p=new dt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ke.newNoDocument(p,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Mt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new Jc(t,n,this.Ze,this.He,s);return this.He=ji(),this.Je=lc(),this.Ye=lc(),this.Ze=new ie(bt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new sv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(bt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(bt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function lc(){return new ie(dt.comparator)}function av(){return new ie(dt.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class jR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function kd(r,t){return r.useProto3Json||Fc(t)?t:{value:t}}function kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function HR(r,t){return kc(r,t.toTimestamp())}function si(r){return Ht(!!r,49232),Tt.fromTimestamp(function(n){const s=Or(n);return new be(s.seconds,s.nanos)}(r))}function pm(r,t){return Pd(r,t).canonicalString()}function Pd(r,t){const n=function(l){return new le(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function _E(r){const t=le.fromString(r);return Ht(AE(t),10190,{key:t.toString()}),t}function Ud(r,t){return pm(r.databaseId,t.path)}function pd(r,t){const n=_E(t);if(n.get(1)!==r.databaseId.projectId)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(vE(n))}function yE(r,t){return pm(r.databaseId,t)}function GR(r){const t=_E(r);return t.length===4?le.emptyPath():vE(t)}function Ld(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ov(r,t,n){return{name:Ud(r,t),fields:n.value.mapValue.fields}}function FR(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:dE(_.code);return new ft(A,_.message||"")}(d);n=new gE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=pd(r,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Tt.min(),g=new Rn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new yc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=pd(r,s.document),c=s.readTime?si(s.readTime):Tt.min(),d=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];n=new yc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=pd(r,s.document),c=s.removedTargetIds||[];n=new yc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new kR(l,c),g=s.targetId;n=new mE(g,d)}}return n}function QR(r,t){let n;if(t instanceof Ol)n={update:ov(r,t.key,t.value)};else if(t instanceof fE)n={delete:Ud(r,t.key)};else if(t instanceof Ds)n={update:ov(r,t.key,t.data),updateMask:eI(t.fieldMask)};else{if(!(t instanceof VR))return pt(16599,{ft:t.type});n={verify:Ud(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Tl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:HR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)}(r,t.precondition)),n}function KR(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?si(l.updateTime):si(c);return d.isEqual(Tt.min())&&(d=si(c)),new DR(d,l.transformResults||[])}(n,t))):[]}function YR(r,t){return{documents:[yE(r,t.path)]}}function XR(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yE(r,l);const c=function(_){if(_.length!==0)return TE(li.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(V){return{field:ba(V.field),direction:JR(V.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=kd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function $R(r){let t=GR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(C){const V=EE(C);return V instanceof li&&$0(V)?V.getFilters():[V]}(n.where));let d=[];n.orderBy&&(d=function(C){return C.map(V=>function(X){return new Vc(Ra(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(V))}(n.orderBy));let g=null;n.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,Fc(V)?null:V}(n.limit));let p=null;n.startAt&&(p=function(C){const V=!!C.before,j=C.values||[];return new Nc(j,V)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const V=!C.before,j=C.values||[];return new Nc(j,V)}(n.endAt)),gR(t,l,d,c,g,"F",p,_)}function ZR(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function EE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ra(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ra(n.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ra(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(n.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(Ra(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(s=>EE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(r):pt(30097,{filter:r})}function JR(r){return qR[r]}function WR(r){return zR[r]}function tI(r){return BR[r]}function ba(r){return{fieldPath:r.canonicalString()}}function Ra(r){return ze.fromServerFormat(r.fieldPath)}function TE(r){return r instanceof Se?function(n){if(n.op==="=="){if(Yy(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NAN"}};if(Ky(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yy(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NAN"}};if(Ky(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(n.field),op:WR(n.op),value:n.value}}}(r):r instanceof li?function(n){const s=n.getFilters().map(l=>TE(l));return s.length===1?s[0]:{compositeFilter:{op:tI(n.op),filters:s}}}(r):pt(54877,{filter:r})}function eI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n,s,l,c=Tt.min(),d=Tt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.wt=t}}function iI(r){const t=$R({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Cn=new sI}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Dr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class sI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Re(le.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(wE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new La(0)}static lr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",aI=1048576;function cv([r,t],[n,s]){const l=bt(r,n);return l===0?bt(t,s):l}class oI{constructor(t){this.Er=t,this.buffer=new Re(cv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(uv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qa(n)?it(uv,"Ignoring IndexedDB error during garbage collection: ",n):await Fa(n)}await this.mr(3e5)})}}class uI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(Gc.le);const s=new oI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(lv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,n))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(_=Date.now(),wa()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function cI(r,t){return new uI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new Cs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&dl(s.mutation,l,Un.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const l=Es();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=al();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Es();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=ji();const d=fl(),g=function(){return fl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ds)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),dl(A.mutation,_,A.mutation.getFieldMask(),be.now())):d.set(_.key,Un.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var C;return g.set(_,new fI(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,n){const s=fl();let l=new ie((d,g)=>d-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||Un.empty();A=g.applyToLocalView(_,A),s.set(p,A);const C=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,C=rE();A.forEach(V=>{if(!c.has(V)){const j=cE(n.get(V),s.get(V));j!==null&&C.set(V,j),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):K.resolve(Es());let g=pl,p=c;return d.next(_=>K.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{p=p.insert(A,V)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Mt())).next(A=>({batchId:g,changes:iE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=al();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(C,V){return new Kc(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=al();return d.forEach((p,_)=>{const A=c.get(p);A!==void 0&&dl(A.mutation,_,Un.empty(),be.now()),Xc(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:iI(l.bundledQuery),readTime:si(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.overlays=new ie(dt.comparator),this.Qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Es();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const l=Es(),c=n.length+1,d=new dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Es(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Es(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return K.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xR(n,s));let c=this.Qr.get(n);c===void 0&&(c=Mt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.$r=new Re(Me.Ur),this.Kr=new Re(Me.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Me(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Me(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new dt(new le([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new dt(new le([])),s=new Me(n,t),l=new Me(n,t+1);let c=Mt();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return dt.comparator(t.key,n.key)||bt(t.Zr,n.Zr)}static Wr(t,n){return bt(t.Zr,n.Zr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Me.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MR(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?om:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(bt);return n.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new dt(c),0);let g=new Re(bt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},d),K.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Me(n,0),l=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.ii=t,this.docs=function(){return new ie(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=ji();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=ji();const d=n.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Kb(Qb(A),s)<=0||(l.has(A.key)||Xc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,l){pt(9500)}si(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new vI(this)}getSize(t){return K.resolve(this.size)}}class vI extends hI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.persistence=t,this.oi=new Cs(n=>cm(n),hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new _m,this.targetCount=0,this.ui=La.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new La(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Tr(n),K.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n){this.ci={},this.overlays={},this.li=new Gc(0),this.hi=!1,this.hi=!0,this.Pi=new pI,this.referenceDelegate=t(this),this.Ti=new EI(this),this.indexManager=new rI,this.remoteDocumentCache=function(l){return new yI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new nI(n),this.Ei=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new _I(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new TI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class TI extends Xb{constructor(t){super(),this.currentSequenceNumber=t}}class ym{constructor(t){this.persistence=t,this.Vi=new _m,this.mi=null}static fi(t){return new ym(t)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const l=dt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Tt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Pc{constructor(t,n){this.persistence=t,this.yi=new Cs(s=>Jb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=cI(this,n)}static fi(t,n){return new Pc(t,n)}di(){}Ai(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return K.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gc(t.data.value)),n}Dr(t,n,s){return K.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new vm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dA()?8:$b(Ye())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new AI;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,d,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(wa()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(wa()<=Vt.DEBUG&&it("QueryEngine","Query:",Sa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(wa()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(n))):K.resolve())}ws(t,n){if(Jy(n))return K.resolve(null);let s=ri(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=xd(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Mt(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,d,p.readTime)?this.ws(t,xd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return Jy(n)||l.isEqual(Tt.min())?K.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?K.resolve(null):(wa()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(n)),this.Fs(t,d,n,Fb(l,pl)).next(g=>g))})}vs(t,n){let s=new Re(eE(t));return n.forEach((l,c)=>{Xc(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return wa()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.ys.getDocumentsMatchingQuery(t,n,Dr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",SI=3e8;class bI{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ie(bt),this.Os=new Cs(c=>cm(c),hm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function RI(r,t,n,s){return new bI(r,t,n,s)}async function bE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function II(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const C=_.batch,V=C.keys();let j=K.resolve();return V.forEach(X=>{j=j.next(()=>A.getEntry(p,X)).next(nt=>{const Z=_.docVersions.get(X);Ht(Z!==null,48541),nt.version.compareTo(Z)<0&&(C.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function RE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function CI(r,t){const n=At(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((A,C)=>{const V=l.get(C);if(!V)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,C).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,C)));let j=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(C,j),function(nt,Z,Et){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=SI?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(V,j,A)&&g.push(n.Ti.updateTargetData(c,j))});let p=ji(),_=Mt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(DI(c,d,t.documentUpdates).next(A=>{p=A.qs,_=A.Qs})),!s.isEqual(Tt.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(C=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function DI(r,t,n){let s=Mt(),l=Mt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=ji();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(Em,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function OI(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function NI(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new wr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function qd(r,t,n){const s=At(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Qa(d))throw d;it(Em,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function hv(r,t,n){const s=At(r);let l=Tt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,A){const C=At(p),V=C.Os.get(A);return V!==void 0?K.resolve(C.xs.get(V)):C.Ti.getTargetData(_,A)}(s,d,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:Tt.min(),n?c:Mt())).next(g=>(VI(s,yR(t),g),{documents:g,$s:c})))}function VI(r,t,n){let s=r.Ns.get(t)||Tt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class fv{constructor(){this.activeTargetIds=SR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MI{constructor(){this.xo=new fv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new fv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class mv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(dv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function zd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Dc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=zd(),g=this.jo(t,n.toUriEncodedString());it(_d,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),A=Sl(_);return this.Jo(t,g,p,s,A).then(C=>(it(_d,`Received RPC '${t}' ${d}: `,C),C),C=>{throw xa(_d,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=kI[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class LI extends PI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=zd();return new Promise((g,p)=>{const _=new D0;_.setWithCredentials(!0),_.listenOnce(O0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case mc.NO_ERROR:const C=_.getResponseJson();it(Fe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case mc.TIMEOUT:it(Fe,`RPC '${t}' ${d} timed out`),p(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const V=_.getStatus();if(it(Fe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j==null?void 0:j.error;if(X&&X.status&&X.message){const nt=function(Et){const ct=Et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN}(X.status);p(new ft(nt,X.message))}else p(new ft($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ft($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:t,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{it(Fe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Fe,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)})}I_(t,n,s){const l=zd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=M0(),g=V0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);this.E_(C);let V=!1,j=!1;const X=new UI({Zo:Z=>{j?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),C.open(),V=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,Z),C.send(Z))},Xo:()=>C.close()}),nt=(Z,Et,ct)=>{Z.listen(Et,ot=>{try{ct(ot)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return nt(C,sl.EventType.OPEN,()=>{j||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),X.__())}),nt(C,sl.EventType.CLOSE,()=>{j||(j=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),X.u_(),this.d_(C))}),nt(C,sl.EventType.ERROR,Z=>{j||(j=!0,xa(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.u_(new ft($.UNAVAILABLE,"The operation could not be completed")))}),nt(C,sl.EventType.MESSAGE,Z=>{var Et;if(!j){const ct=Z.data[0];Ht(!!ct,16349);const ot=ct,Ct=(ot==null?void 0:ot.error)||((Et=ot[0])===null||Et===void 0?void 0:Et.error);if(Ct){it(Fe,`RPC '${t}' stream ${l} received error:`,Ct);const _t=Ct.status;let Dt=function(S){const R=_e[S];if(R!==void 0)return dE(R)}(_t),x=Ct.message;Dt===void 0&&(Dt=$.INTERNAL,x="Unknown error status: "+_t+" with message "+Ct.message),j=!0,X.u_(new ft(Dt,x)),C.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,ct),X.c_(ct)}}),nt(g,N0.STAT_EVENT,Z=>{Z.stat===Cd.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Cd.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r){return new jR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="PersistentStream";class CE{constructor(t,n,s,l,c,d,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new IE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new ft($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return it(gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(it(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qI extends CE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=FR(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?si(d.readTime):Tt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Ld(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Md(p)?{documents:YR(c,p)}:{query:XR(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(c,d.resumeToken);const _=kd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=kc(c,d.snapshotVersion.toTimestamp());const _=kd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=ZR(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Ld(this.serializer),n.removeTarget=t,this.Q_(n)}}class zI extends CE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=KR(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Ld(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>QR(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{}class jI extends BI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Pd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft($.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,Pd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft($.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class HI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Bi(n),this.ua=!1):it("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class GI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{Os(this)&&(it(Rs,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.da.add(4),await Vl(_),_.Va.set("Unknown"),_.da.delete(4),await th(_)}(this))})}),this.Va=new HI(s,l)}}async function th(r){if(Os(r))for(const t of r.Aa)await t(!0)}async function Vl(r){for(const t of r.Aa)await t(!1)}function DE(r,t){const n=At(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Sm(n)?wm(n):Ka(n).N_()&&Am(n,t))}function Tm(r,t){const n=At(r),s=Ka(n);n.Ea.delete(t),s.N_()&&OE(n,t),n.Ea.size===0&&(s.N_()?s.k_():Os(n)&&n.Va.set("Unknown"))}function Am(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ka(r).Z_(t)}function OE(r,t){r.ma.Ke(t),Ka(r).X_(t)}function wm(r){r.ma=new LR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ka(r).start(),r.Va.ca()}function Sm(r){return Os(r)&&!Ka(r).O_()&&r.Ea.size>0}function Os(r){return At(r).da.size===0}function NE(r){r.ma=void 0}async function FI(r){r.Va.set("Online")}async function QI(r){r.Ea.forEach((t,n)=>{Am(r,t)})}async function KI(r,t){NE(r),Sm(r)?(r.Va.Pa(t),wm(r)):r.Va.set("Unknown")}async function YI(r,t,n){if(r.Va.set("Online"),t instanceof gE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){it(Rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uc(r,s)}else if(t instanceof yc?r.ma.Xe(t):t instanceof mE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Tt.min()))try{const s=await RE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ma.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ea.get(_);A&&c.Ea.set(_,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Ea.get(p);if(!A)return;c.Ea.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),OE(c,p);const C=new wr(A.target,p,_,A.sequenceNumber);Am(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Rs,"Failed to raise snapshot:",s),await Uc(r,s)}}async function Uc(r,t,n){if(!Qa(t))throw t;r.da.add(1),await Vl(r),r.Va.set("Offline"),n||(n=()=>RE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Rs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await th(r)})}function VE(r,t){return t().catch(n=>Uc(r,n,t))}async function eh(r){const t=At(r),n=Mr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:om;for(;XI(t);)try{const l=await OI(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,$I(t,l)}catch(l){await Uc(t,l)}ME(t)&&xE(t)}function XI(r){return Os(r)&&r.Ia.length<10}function $I(r,t){r.Ia.push(t);const n=Mr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function ME(r){return Os(r)&&!Mr(r).O_()&&r.Ia.length>0}function xE(r){Mr(r).start()}async function ZI(r){Mr(r).ia()}async function JI(r){const t=Mr(r);for(const n of r.Ia)t.ta(n.mutations)}async function WI(r,t,n){const s=r.Ia.shift(),l=mm.from(s,t,n);await VE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await eh(r)}async function t2(r,t){t&&Mr(r).ea&&await async function(s,l){if(function(d){return PR(d)&&d!==$.ABORTED}(l.code)){const c=s.Ia.shift();Mr(s).L_(),await VE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await eh(s)}}(r,t),ME(r)&&xE(r)}async function pv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),it(Rs,"RemoteStore received new credentials");const s=Os(n);n.da.add(3),await Vl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await th(n)}async function e2(r,t){const n=At(r);t?(n.da.delete(2),await th(n)):t||(n.da.add(2),await Vl(n),n.Va.set("Unknown"))}function Ka(r){return r.fa||(r.fa=function(n,s,l){const c=At(n);return c.oa(),new qI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:FI.bind(null,r),n_:QI.bind(null,r),i_:KI.bind(null,r),Y_:YI.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Sm(r)?wm(r):r.Va.set("Unknown")):(await r.fa.stop(),NE(r))})),r.fa}function Mr(r){return r.ga||(r.ga=function(n,s,l){const c=At(n);return c.oa(),new zI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:ZI.bind(null,r),i_:t2.bind(null,r),na:JI.bind(null,r),ra:WI.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await eh(r)):(await r.ga.stop(),r.Ia.length>0&&(it(Rs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new bm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(r,t){if(Bi("AsyncQueue",`${t}: ${r}`),Qa(r))return new ft($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(t){return new Na(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=al(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Na;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.pa=new ie(dt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class qa{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new qa(t,n,Na.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class i2{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=yv(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ft($.ABORTED,"Firestore shutting down"))}}function yv(){return new Cs(r=>tE(r),Yc)}async function r2(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new n2,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Rm(d,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Im(n)}async function s2(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function a2(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&Im(n)}function o2(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Im(r){r.Ca.forEach(t=>{t.next()})}var Bd,vv;(vv=Bd||(Bd={})).xa="default",vv.Cache="cache";class l2{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t){this.key=t}}class PE{constructor(t){this.key=t}}class u2{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.Za=eE(t),this.Xa=new Na(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new _v,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const V=l.get(A),j=Xc(this.query,C)?C:null,X=!!V&&this.mutatedKeys.has(V.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;V&&j?V.data.isEqual(j.data)?X!==nt&&(s.track({type:3,doc:j}),Z=!0):this.ru(V,j)||(s.track({type:2,doc:j}),Z=!0,(p&&this.Za(j,p)>0||_&&this.Za(j,_)<0)&&(g=!0)):!V&&j?(s.track({type:0,doc:j}),Z=!0):V&&!j&&(s.track({type:1,doc:V}),Z=!0,(p||_)&&(g=!0)),Z&&(j?(d=d.add(j),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((A,C)=>function(j,X){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return nt(j)-nt(X)}(A.type,C.type)||this.Za(A.doc,C.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,d.length!==0||_?{snapshot:new qa(this.query,t.Xa,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new PE(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new kE(s))}),n}au(t){this.Ha=t.$s,this.Ya=Mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cm="SyncEngine";class c2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class h2{constructor(t){this.key=t,this.cu=!1}}class f2{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Cs(g=>tE(g),Yc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ie(dt.comparator),this.Eu=new Map,this.du=new _m,this.Au={},this.Ru=new Map,this.Vu=La.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function d2(r,t,n=!0){const s=jE(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await UE(s,t,n,!0),l}async function m2(r,t){const n=jE(r);await UE(n,t,!0,!1)}async function UE(r,t,n,s){const l=await NI(r.localStore,ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await g2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&DE(r.remoteStore,l),g}async function g2(r,t,n,s,l){r.fu=(C,V,j)=>async function(nt,Z,Et,ct){let ot=Z.view.tu(Et);ot.Cs&&(ot=await hv(nt.localStore,Z.query,!1).then(({documents:x})=>Z.view.tu(x,ot)));const Ct=ct&&ct.targetChanges.get(Z.targetId),_t=ct&&ct.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(ot,nt.isPrimaryClient,Ct,_t);return Tv(nt,Z.targetId,Dt.ou),Dt.snapshot}(r,C,V,j);const c=await hv(r.localStore,t,!0),d=new u2(t,c.$s),g=d.tu(c.documents),p=Nl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Tv(r,n,_.ou);const A=new c2(t,n,d);return r.hu.set(t,A),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function p2(r,t,n){const s=At(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!Yc(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await qd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Tm(s.remoteStore,l.targetId),jd(s,l.targetId)}).catch(Fa)):(jd(s,l.targetId),await qd(s.localStore,l.targetId,!0))}async function _2(r,t){const n=At(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Tm(n.remoteStore,s.targetId))}async function y2(r,t,n){const s=b2(r);try{const l=await function(d,g){const p=At(d),_=be.now(),A=g.reduce((j,X)=>j.add(X.key),Mt());let C,V;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=ji(),nt=Mt();return p.Bs.getEntries(j,A).next(Z=>{X=Z,X.forEach((Et,ct)=>{ct.isValidDocument()||(nt=nt.add(Et))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,X)).next(Z=>{C=Z;const Et=[];for(const ct of g){const ot=NR(ct,C.get(ct.key).overlayedDocument);ot!=null&&Et.push(new Ds(ct.key,ot,K0(ot.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,Et,g)}).next(Z=>{V=Z;const Et=Z.applyToLocalDocumentSet(C,nt);return p.documentOverlayCache.saveOverlays(j,Z.batchId,Et)})}).then(()=>({batchId:V.batchId,changes:iE(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Au[d.currentUser.toKey()];_||(_=new ie(bt)),_=_.insert(g,p),d.Au[d.currentUser.toKey()]=_}(s,l.batchId,n),await Ml(s,l.changes),await eh(s.remoteStore)}catch(l){const c=Rm(l,"Failed to persist write");n.reject(c)}}async function LE(r,t){const n=At(r);try{const s=await CI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?Ht(d.cu,14607):l.removedDocuments.size>0&&(Ht(d.cu,42227),d.cu=!1))}),await Ml(n,s,t)}catch(s){await Fa(s)}}function Ev(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const g=d.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach((A,C)=>{for(const V of C.Sa)V.Fa(g)&&(_=!0)}),_&&Im(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function v2(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new ie(dt.comparator);d=d.insert(c,Ke.newNoDocument(c,Tt.min()));const g=Mt().add(c),p=new Jc(Tt.min(),new Map,new ie(bt),d,g);await LE(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Dm(s)}else await qd(s.localStore,t,!1).then(()=>jd(s,t,n)).catch(Fa)}async function E2(r,t){const n=At(r),s=t.batch.batchId;try{const l=await II(n.localStore,t);zE(n,s,null),qE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ml(n,l)}catch(l){await Fa(l)}}async function T2(r,t,n){const s=At(r);try{const l=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(C=>(Ht(C!==null,37113),A=C.keys(),p.mutationQueue.removeMutationBatch(_,C))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);zE(s,t,n),qE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ml(s,l)}catch(l){await Fa(l)}}function qE(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function zE(r,t,n){const s=At(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function jd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||BE(r,s)})}function BE(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(Tm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Dm(r))}function Tv(r,t,n){for(const s of n)s instanceof kE?(r.du.addReference(s.key,t),A2(r,s)):s instanceof PE?(it(Cm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||BE(r,s.key)):pt(19791,{pu:s})}function A2(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(it(Cm,"New document in limbo: "+n),r.Tu.add(s),Dm(r))}function Dm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new dt(le.fromString(t)),s=r.Vu.next();r.Eu.set(s,new h2(n)),r.Iu=r.Iu.insert(n,s),DE(r.remoteStore,new wr(ri(fm(n.path)),s,"TargetPurposeLimboResolution",Gc.le))}}async function Ml(r,t,n){const s=At(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{d.push(s.fu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const C=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(_){l.push(_);const C=vm.Rs(p.targetId,_);c.push(C)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(p,_){const A=At(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(_,V=>K.forEach(V.ds,j=>A.persistence.referenceDelegate.addReference(C,V.targetId,j)).next(()=>K.forEach(V.As,j=>A.persistence.referenceDelegate.removeReference(C,V.targetId,j)))))}catch(C){if(!Qa(C))throw C;it(Em,"Failed to update sequence numbers: "+C)}for(const C of _){const V=C.targetId;if(!C.fromCache){const j=A.xs.get(V),X=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(V,nt)}}}(s.localStore,c))}async function w2(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){it(Cm,"User change. New user:",t.toKey());const s=await bE(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ft($.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ml(n,s.ks)}}function S2(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.cu)return Mt().add(s.key);{let l=Mt();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function jE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v2.bind(null,t),t.lu.Y_=a2.bind(null,t.eventManager),t.lu.gu=o2.bind(null,t.eventManager),t}function b2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=T2.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return RI(this.persistence,new wI,t.initialUser,this.serializer)}Su(t){return new SE(ym.fi,this.serializer)}bu(t){return new MI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class R2 extends Lc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ht(this.persistence.referenceDelegate instanceof Pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new SE(s=>Pc.fi(s,n),this.serializer)}}class Hd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),await e2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new i2}()}createDatastore(t){const n=Wc(t.databaseInfo.databaseId),s=function(c){return new LI(c)}(t.databaseInfo);return function(c,d,g,p){return new jI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new GI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Ev(this.syncEngine,n,0),function(){return mv.C()?new mv:new xI}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,A){const C=new f2(l,c,d,g,p,_);return A&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=At(l);it(Rs,"RemoteStore shutting down."),c.da.add(5),await Vl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class C2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Rm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function vd(r,t){r.asyncQueue.verifyOperationInProgress(),it(xr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await bE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Av(r,t){r.asyncQueue.verifyOperationInProgress();const n=await D2(r);it(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>pv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>pv(t.remoteStore,l)),r._onlineComponents=t}async function D2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(xr,"Using user provided OfflineComponentProvider");try{await vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await vd(r,new Lc)}}else it(xr,"Using default OfflineComponentProvider"),await vd(r,new R2(void 0));return r._offlineComponents}async function HE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(xr,"Using user provided OnlineComponentProvider"),await Av(r,r._uninitializedComponentsProvider._online)):(it(xr,"Using default OnlineComponentProvider"),await Av(r,new Hd))),r._onlineComponents}function O2(r){return HE(r).then(t=>t.syncEngine)}async function N2(r){const t=await HE(r),n=t.eventManager;return n.onListen=d2.bind(null,t.syncEngine),n.onUnlisten=p2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=m2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_2.bind(null,t.syncEngine),n}function V2(r,t,n={}){const s=new Cr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const A=new I2({next:V=>{A.xu(),d.enqueueAndForget(()=>s2(c,C));const j=V.docs.has(g);!j&&V.fromCache?_.reject(new ft($.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&p&&p.source==="server"?_.reject(new ft($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),C=new l2(fm(g.path),A,{includeMetadataChanges:!0,Qa:!0});return r2(c,C)}(await N2(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,t,n){if(!n)throw new ft($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function x2(r,t,n,s){if(t===!0&&s===!0)throw new ft($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Sv(r){if(!dt.isDocumentKey(r))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Al(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(r);throw new ft($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",bv=!0;class Rv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=bv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aI)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}x2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nm{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Pb;switch(s.type){case"firstParty":return new zb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=wv.get(n);s&&(it("ComponentProvider","Removing Datastore"),wv.delete(n),s.terminate())}(this),Promise.resolve()}}function k2(r,t,n,s={}){var l;r=Al(r,Nm);const c=Sl(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(jv(`https://${p}`),Hv("Firestore",!0)),d.host!==FE&&d.host!==p&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!As(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Qe.MOCK_USER;else{A=rA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Qe(V)}r._authCredentials=new Ub(new k0(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Vm(this.firestore,t,this._query)}}class In{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}}class wl extends Vm{constructor(t,n,s){super(t,n,fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new dt(t))}withConverter(t){return new wl(this.firestore,t,this._path)}}function Iv(r,t,...n){if(r=Cn(r),arguments.length===1&&(t=U0.newId()),M2("doc","path",t),r instanceof Nm){const s=le.fromString(t,...n);return Sv(s),new In(r,null,new dt(s))}{if(!(r instanceof In||r instanceof wl))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...n));return Sv(s),new In(r.firestore,r instanceof wl?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new IE(this,"async_queue_retry"),this.rc=()=>{const s=yd();s&&it(Cv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Cr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Qa(t))throw t;it(Cv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Bi("INTERNAL UNHANDLED ERROR: ",Ov(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=bm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&pt(47125,{cc:Ov(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Mm extends Nm{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Dv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function P2(r,t){const n=typeof r=="object"?r:Kv(),s=typeof r=="string"?r:Dc,l=Yd(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=nA("firestore");c&&k2(l,...c)}return l}function QE(r){if(r._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||U2(r),r._firestoreClient}function U2(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new eR(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,GE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new C2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this._byteString=t}static fromBase64String(t){try{return new za(Be.fromBase64String(t))}catch(n){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new za(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class q2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(t,this.data,n,this.fieldTransforms)}}function YE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ic:r})}}class Um{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Um(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return qc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(YE(this.Ic)&&L2.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class z2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Wc(t)}bc(t,n,s,l=!1){return new Um({Ic:t,methodName:n,wc:s,path:ze.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B2(r){const t=r._freezeSettings(),n=Wc(r._databaseId);return new z2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function j2(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);JE("Data must be an object, but it was:",d,s);const g=$E(s,d);let p,_;if(c.merge)p=new Un(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const V=H2(t,C,n);if(!d.contains(V))throw new ft($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);F2(A,V)||A.push(V)}p=new Un(A),_=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,_=d.fieldTransforms;return new q2(new Rn(g),p,_)}function XE(r,t){if(ZE(r=Cn(r)))return JE("Unsupported field value:",t,r),$E(r,t);if(r instanceof KE)return function(s,l){if(!YE(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=XE(g,l.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:kc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(l.serializer,c)}}if(s instanceof km)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof za)return{bytesValue:pE(l.serializer,s._byteString)};if(s instanceof In){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pm)return function(d,g){return{mapValue:{fields:{[F0]:{stringValue:Q0},[Oc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return dm(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Om(s)}`)}(r,t)}function $E(r,t){const n={};return q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Is(r,(s,l)=>{const c=XE(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ZE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof km||r instanceof za||r instanceof In||r instanceof KE||r instanceof Pm)}function JE(r,t,n){if(!ZE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Om(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function H2(r,t,n){if((t=Cn(t))instanceof xm)return t._internalPath;if(typeof t=="string")return WE(r,t);throw qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const G2=new RegExp("[~\\*/\\[\\]]");function WE(r,t,n){if(t.search(G2)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xm(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ft($.INVALID_ARGUMENT,g+r+p)}function F2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q2 extends tT{data(){return super.data()}}function eT(r,t){return typeof t=="string"?WE(r,t):t instanceof xm?t._internalPath:t._delegate._internalPath}class K2{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Is(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Oc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>fe(d.doubleValue));return new Pm(c)}convertGeoPoint(t){return new km(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_l(t));default:return null}}convertTimestamp(t){const n=Or(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);Ht(AE(s),9688,{name:t});const l=new yl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nT extends tT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $2 extends nT{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){r=Al(r,In);const t=Al(r.firestore,Mm);return V2(QE(t),r._key).then(n=>tC(t,r,n))}class J2 extends K2{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Nv(r,t,n){r=Al(r,In);const s=Al(r.firestore,Mm),l=Y2(r.converter,t,n);return W2(s,[j2(B2(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Li.none())])}function W2(r,t){return function(s,l){const c=new Cr;return s.asyncQueue.enqueueAndForget(async()=>y2(await O2(s),l,c)),c.promise}(QE(r),t)}function tC(r,t,n){const s=n.docs.get(t._key),l=new J2(r);return new nT(r,l,t._key,s,new X2(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Ga=l})(ja),Va(new ws("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Mm(new Lb(s.getProvider("auth-internal")),new Bb(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Rr(ky,Py,t),Rr(ky,Py,"esm2017")})();var eC="firebase",nC="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(eC,nC,"app");const iC={apiKey:"AIzaSyDBQDG0k6m1sPIj7lnp9K4emwLXCV4WiA8",authDomain:"flashcards-d48a7.firebaseapp.com",projectId:"flashcards-d48a7",storageBucket:"flashcards-d48a7.firebasestorage.app",messagingSenderId:"41332853563",appId:"1:41332853563:web:9e5b48fccd80a69d6dc51e"},iT=Qv(iC),vc=Ob(iT),Vv=P2(iT),rC=new ki,Mv=[{question:"    ?",answer:""},{question:"     ?",answer:""},{question:"       ?",answer:""},{question:"     ,    1 .    100. ",answer:""},{question:"   :",answer:"2   .."},{question:"-  :",answer:""},{question:"          :",answer:""},{question:"      :",answer:"-"},{question:"   ",answer:""},{question:"     :",answer:""},{question:"   :",answer:""},{question:"   :",answer:""},{question:"   :",answer:", , -"},{question:" -   I:",answer:""},{question:" -    I  :",answer:" "},{question:"     :",answer:""},{question:" :",answer:""},{question:"   :",answer:""},{question:"      :",answer:""},{question:"1     :",answer:"1969.,  "},{question:"   ",answer:""},{question:"    :",answer:" "},{question:"-       :",answer:"530  ..."},{question:"        ____________ :",answer:""},{question:" I  - :",answer:"519-518...."},{question:"    ___________",answer:""},{question:"2,6.   12. ...  :",answer:""},{question:" 101  ..    :",answer:""},{question:"  :",answer:""},{question:"    :",answer:"-"},{question:"  :",answer:""},{question:"     :",answer:",   "},{question:" :",answer:""},{question:"     :",answer:""},{question:"    :",answer:""},{question:"2      :",answer:""},{question:"2      :",answer:""},{question:"   :",answer:"451"},{question:"    :",answer:""},{question:"  :",answer:"  "},{question:"    :",answer:"542."},{question:"    -  :",answer:""},{question:"  :",answer:""},{question:"  10   :",answer:""},{question:"     ?",answer:"- ()"},{question:"      -?",answer:"40   "},{question:"    ?",answer:"  "},{question:"         ?",answer:"603 ."},{question:"      ?",answer:" 751 ."},{question:"     ?",answer:"   "},{question:"    ?",answer:"  -"},{question:"  ?",answer:""},{question:"           ?",answer:"XI ."},{question:"        ?",answer:""},{question:"       ?",answer:""},{question:"    -?",answer:"870 - 950 ."},{question:"     ?",answer:" "},{question:"       ?",answer:""},{question:"    ",answer:"-"},{question:"  :",answer:""},{question:"  ?",answer:"751."},{question:"   ?",answer:"      "},{question:"  :",answer:""},{question:"        ?",answer:"8 "},{question:"   - :",answer:"  "},{question:"  ",answer:",   "},{question:"    :",answer:""},{question:"    :",answer:"  "},{question:" ?",answer:"942-1212."},{question:" ?",answer:""},{question:" - :",answer:" -"},{question:"     ?",answer:""},{question:"      :",answer:"960."},{question:"      ",answer:""},{question:"   :",answer:""},{question:"  :",answer:",  "},{question:"      ",answer:" "},{question:"  ",answer:"1141."},{question:"       ?",answer:"1206 ."},{question:"       :",answer:"-"},{question:"    :",answer:""},{question:"    ?",answer:"1155 ."},{question:"  - :",answer:"924 ."},{question:"     :",answer:"-"},{question:"    ?",answer:" 3 "},{question:"    ?",answer:" 6 "},{question:"      ",answer:""},{question:"      ?",answer:"1223 ."},{question:"   ?",answer:""},{question:"     ?",answer:"1236-1242 ."},{question:"  :",answer:"1206"},{question:"    ?",answer:"-"},{question:"       ?",answer:"-"},{question:"     -?",answer:" "},{question:"   ?",answer:"1382 ."},{question:"   -   ?",answer:"  "},{question:"  ?",answer:""},{question:"      :",answer:"-"},{question:"    :",answer:""},{question:"        ?",answer:"-"},{question:"        1365.:",answer:"-"},{question:"    1365.:",answer:" "},{question:"      ?",answer:" "},{question:"    -    ?",answer:"       "},{question:"      :",answer:"1598 - 1628 ."},{question:"   -   ?",answer:"1370."},{question:"  -?",answer:""},{question:"-       :",answer:""},{question:"   :",answer:"-"},{question:"      :",answer:"  "},{question:" ,     ,    ",answer:"-"},{question:"     2:",answer:"-"},{question:"    _______________ :",answer:""},{question:" -   :",answer:""},{question:"      :",answer:"-"},{question:"        :",answer:"-"},{question:"   :",answer:"1643."},{question:"       II:",answer:"-"},{question:"    - :",answer:"1627."},{question:"  ",answer:"1726/1728"},{question:"   :",answer:"1465."},{question:"    ?",answer:"  ."},{question:" _____.         -,   ",answer:"1594."},{question:"       ?",answer:"-"},{question:"    :",answer:""},{question:"- :",answer:"  "},{question:"            :",answer:" 1710."},{question:"         1 . ?",answer:"-"},{question:"   :",answer:"17 "},{question:"  ",answer:"1729/1730"},{question:"    :",answer:", "},{question:"  ",answer:"1717/1718"},{question:"            ",answer:"-"},{question:"       ?",answer:"-"},{question:" 1613.    ,    :",answer:""},{question:"       :",answer:"  "},{question:"  -   :",answer:""},{question:" :",answer:"--"},{question:"    _________________     :",answer:""},{question:"  29        :",answer:"10  1731."},{question:"         :",answer:"  "},{question:" 1511.       :",answer:"-"},{question:"          :",answer:"19  1731."},{question:"      :",answer:""},{question:"      :",answer:""},{question:"     :",answer:""},{question:" ",answer:"1773-1775."},{question:"   :",answer:"1783-1797."},{question:"       :",answer:" "},{question:"    :",answer:""},{question:" 1822.   ________________ :",answer:""},{question:"    :",answer:""},{question:"    :",answer:"1786."},{question:"    :",answer:""},{question:"      :",answer:"1824."},{question:" I      :",answer:"11  1801."},{question:"    :",answer:"  "},{question:"   :",answer:"-"},{question:"-   :",answer:"1835."},{question:" 1836-1838. :",answer:"  "},{question:"   ,    ,  :",answer:"-"},{question:"-    :",answer:"1841."},{question:"     :",answer:"-"},{question:"    1836-1838 . :",answer:" -   "},{question:"    :",answer:"1837-1847"},{question:"    :",answer:" "},{question:"    12  1838 .  ?   ",answer:""},{question:"       ?",answer:""},{question:"    :",answer:"1841."},{question:"  ,  ,  -:",answer:"1802-1847 ."},{question:"          ,   :",answer:"  "},{question:"  ,   ,   :",answer:""},{question:"        :",answer:"20,000 "},{question:"    :",answer:"1847 ."},{question:" -     :",answer:"1853"},{question:"   :",answer:""},{question:"            :",answer:"     ;"},{question:"    :",answer:"1854."},{question:"       19-21  :",answer:"1860 ."},{question:"    :",answer:"1861."},{question:"    :",answer:"1834."},{question:"  1867-1868 . :",answer:" II"},{question:"  1867-1868 .     :",answer:"3 -"},{question:"     -?",answer:"  "},{question:"    - -?",answer:"  "},{question:"     -?",answer:"  "},{question:"  :",answer:" "},{question:"     :",answer:" "},{question:"    :",answer:" 1886."},{question:" :",answer:" "},{question:"    1916   :",answer:" "},{question:"     :",answer:" "},{question:"     :",answer:" "},{question:"- _______________________  ____________      ",answer:"  "},{question:"   :",answer:"1905."},{question:"       :",answer:""},{question:"     :",answer:"1917."},{question:"     :",answer:"1917."},{question:"      :",answer:" "},{question:"      :",answer:"-"},{question:"   :",answer:""},{question:"    :",answer:" "},{question:"    :",answer:"1913  1918 "},{question:"   :",answer:" "},{question:"   :",answer:" "},{question:"        :",answer:" "},{question:"  ()    :",answer:"  "},{question:"   :",answer:" "},{question:"      10   :",answer:" 1921."},{question:" 1921.    :",answer:""},{question:"      ____ :",answer:"14"},{question:"     :",answer:"26  1920 "},{question:"         :",answer:"4  1920."},{question:"    :",answer:"  1925."},{question:"  - :",answer:""},{question:"   :",answer:""},{question:" -   :",answer:""},{question:"  :",answer:"  1927."},{question:"  :",answer:"1937-1938."},{question:"     :",answer:"15 "},{question:"     :",answer:" "},{question:"   :",answer:""},{question:"         :",answer:""},{question:"   :",answer:""},{question:"   :",answer:" "},{question:" :",answer:" "},{question:"   :",answer:" 1928.  ."},{question:" :",answer:" "},{question:"   :",answer:" "},{question:" :",answer:" "},{question:"       :",answer:"1926."},{question:" 1000   ,500   :",answer:" "},{question:" .  :",answer:"1934."},{question:"    :",answer:"1,3."},{question:"   :",answer:"22  1941."},{question:"   :",answer:" "},{question:"      :",answer:" "},{question:"    1990.:",answer:" "},{question:"-, :",answer:" "},{question:"       :",answer:" "},{question:"-, :",answer:" "},{question:" ,     :",answer:" "},{question:"-  ,  :",answer:" "},{question:"       :",answer:"  "},{question:"     :",answer:"  "},{question:" 1959.  :",answer:""},{question:"  1979.    -:",answer:"   "},{question:"  -:",answer:" "},{question:"   :",answer:"16  1991."},{question:" :",answer:"30  1995."},{question:" :",answer:"28  1993"},{question:"   :",answer:" "},{question:"   :",answer:""},{question:"    -2030:",answer:"1997"},{question:"     :",answer:"2017."},{question:"    :",answer:"4  1992."},{question:"   :",answer:"2  1992."},{question:" :",answer:"    "},{question:" :",answer:" "},{question:"    -2050:",answer:"2012"},{question:"   21  2019.?",answer:"- "}],sC="flashcards_state_simple_repeat_v2",Ba=4,aC=r=>{const t=[...r];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[t[n],t[s]]=[t[s],t[n]]}return t},oC=()=>{const[r]=I0(vc),[t,n]=xt.useState(!0),[s,l]=xt.useState([]),[c,d]=xt.useState(()=>new Set),[g,p]=xt.useState([]);xt.useEffect(()=>{(async()=>{if(n(!0),!r){const D=Mv.map((M,I)=>({...M,id:I,knowCount:0,status:"new",isFlipped:!1}));l(D),d(new Set(D.map(M=>M.id))),n(!1);return}const S=Iv(Vv,"users",r.uid),R=await Z2(S);if(R.exists()){console.log("Document data:",R.data());const D=R.data();l(D.cards),d(new Set(D.selectedCardIds)),p(D.studyQueue)}else{const D=Mv.map((I,ye)=>({...I,id:ye,knowCount:0,status:"new",isFlipped:!1}));l(D);const M=new Set(D.map(I=>I.id));d(M),await Nv(S,{cards:D,selectedCardIds:Array.from(M),studyQueue:[]})}n(!1)})()},[r]),xt.useEffect(()=>{if(!r||t)return;const w=setTimeout(()=>{const S=Iv(Vv,"users",r.uid),R={cards:s,selectedCardIds:Array.from(c),studyQueue:g};console.log("Saving... ",R),Nv(S,R,{merge:!0})},2e3);return()=>clearTimeout(w)},[s,c,g]),xt.useEffect(()=>{t||p(w=>{const S=w.filter(M=>c.has(M)),R=new Set(S),D=s.filter(M=>c.has(M.id)&&!R.has(M.id)).sort((M,I)=>I.knowCount-M.knowCount);return[...S,...D.map(M=>M.id)]})},[c,s]);const _=xt.useMemo(()=>g.length===0?null:s.find(w=>w.id===g[0]),[g,s]),A=xt.useMemo(()=>({total:s.length,learned:s.filter(w=>w.status==="learned").length,learning:s.filter(w=>w.status==="learning").length,new:s.filter(w=>w.status==="new").length}),[s]),C=xt.useCallback(()=>{_&&l(w=>w.map(S=>S.id===_.id?{...S,isFlipped:!S.isFlipped}:S))},[_]),V=xt.useCallback(w=>{l(S=>S.map(R=>R.id===_.id?w(R):R))},[_]),j=xt.useCallback(w=>{w.stopPropagation(),_&&(V(S=>{const R=S.knowCount+1;return{...S,knowCount:R,status:R>=Ba?"learned":"learning",isFlipped:!1}}),p(S=>{if(S.length<=1)return S;const[R,...D]=S;if(_.knowCount>=Ba)return D;const M=Math.min(3+_.knowCount*2+Math.floor(Math.random()*3),D.length);return D.splice(M,0,R),D}))},[_,V]),X=xt.useCallback(w=>{w.stopPropagation(),_&&(V(S=>({...S,knowCount:Math.max(0,S.knowCount-1),status:"learning",isFlipped:!1})),p(S=>{if(S.length<=1)return S;const[R,...D]=S,M=Math.min(2,D.length);return D.splice(M,0,R),D}))},[_,V]),nt=()=>{confirm(" ,     ?")&&(localStorage.removeItem(sC),window.location.reload())},Z=xt.useCallback(()=>{p(w=>aC(w))},[]);xt.useEffect(()=>{const w=R=>{if(!(R.target.tagName==="INPUT"||R.target.tagName==="TEXTAREA"))switch(R.code){case"Space":case"ArrowUp":case"ArrowDown":R.preventDefault(),C();break}},S=R=>{R.target.tagName==="INPUT"||R.target.tagName};return document.addEventListener("keydown",w),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",S)}},[C,j,X]);const Et=xt.useCallback(()=>{const w=s.filter(S=>c.has(S.id)).sort((S,R)=>R.knowCount-S.knowCount);p(w.map(S=>S.id))},[s,c]),ct=xt.useCallback(w=>{d(S=>{const R=new Set(S);return R.has(w)?R.delete(w):R.add(w),R})},[]),ot=xt.useCallback(()=>d(new Set(s.map(w=>w.id))),[s]),Ct=xt.useCallback(()=>{const w={cards:s,selectedCardIds:Array.from(c),studyQueue:g},S=JSON.stringify(w,null,2);navigator.clipboard.writeText(S)},[s]),_t=xt.useCallback(()=>{navigator.clipboard.readText().then(w=>{try{if(!confirm(" ,       ?"))return;const R=JSON.parse(w);l(R.cards),d(new Set(R.selectedCardIds)),p(R.studyQueue)}catch(S){console.error("Error parsing clipboard data:",S)}}).catch(w=>{console.error("Error reading clipboard data:",w)})}),Dt=xt.useCallback(()=>{d(new Set(s.filter(w=>w.status==="learned").map(w=>w.id)))},[s]),x=xt.useCallback(()=>{d(new Set(s.filter(w=>w.status==="new"||w.status==="learning").map(w=>w.id)))},[s]);return{cards:s,studyQueue:g,currentCard:_,stats:A,selectedCardIds:c,isLoading:t,flipCard:C,handleKnow:j,handleDontKnow:X,resetProgress:nt,toggleCardSelection:ct,selectAll:ot,showOnlyLearned:Dt,shuffleQueue:Z,continueLearning:x,rebuildQueue:Et,copyProgressToClipboard:Ct,importProgressFromClipboard:_t}},Lm=r=>{switch(r){case"learned":return"text-green-500";case"learning":return"text-blue-400";default:return"text-gray-500"}},lC={total:"",learned:"",learning:"",new:""},uC=({stats:r})=>rt.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 mb-6",children:[rt.jsx("h3",{className:"text-xl font-bold mb-4",children:" "}),rt.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(r).map(([t,n])=>rt.jsxs("div",{className:"text-center",children:[rt.jsx("div",{className:`text-2xl font-bold ${Lm(t)}`,children:n}),rt.jsx("div",{className:"text-sm text-neutral-400",children:lC[t]})]},t))})]}),cC=({status:r,knowCount:t,className:n=""})=>{const s=Lm(r),l=()=>r==="learned"?rt.jsxs(rt.Fragment,{children:[rt.jsx(kv,{size:20}),rt.jsx("span",{children:""})]}):r==="learning"?` (${t}/${Ba})`:` (0/${Ba})`;return rt.jsx("div",{className:`flex items-center gap-2 text-sm font-medium ${s} ${n}`,children:l()})},hC=({card:r,onFlip:t,onKnow:n,onDontKnow:s})=>rt.jsx("div",{className:"mb-6 select-none",children:rt.jsxs("div",{className:"relative bg-neutral-800 rounded-xl p-8 min-h-[300px] flex flex-col justify-center items-center cursor-pointer hover:bg-neutral-700/50 transition-colors",onClick:t,children:[rt.jsxs("div",{className:"text-center",children:[rt.jsx("div",{className:"text-lg font-semibold text-neutral-400 mb-4",children:r.isFlipped?":":":"}),rt.jsx("div",{className:"text-xl text-white leading-relaxed text-balance",children:r.isFlipped?r.answer:r.question})]}),rt.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[rt.jsx(cC,{status:r.status,knowCount:r.knowCount}),rt.jsx("div",{className:"text-sm text-neutral-500",children:r.isFlipped?"  ":"  "})]}),r.isFlipped&&rt.jsxs("div",{className:"flex gap-4 justify-center mt-6 absolute bottom-6 z-10",children:[rt.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-emerald-600 hover:bg-emerald-500 transition-colors rounded-lg text-white font-semibold",children:[rt.jsx(kv,{size:24})," "]}),rt.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-6 py-3 bg-rose-600 hover:bg-rose-500 transition-colors rounded-lg text-white font-semibold",children:[rt.jsx(K1,{size:24}),"  "]})]})]})}),fC=({cards:r,selectedIds:t,onToggle:n})=>rt.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6",children:[rt.jsx("h3",{className:"text-xl font-bold mb-4",children:"   "}),rt.jsx("div",{className:"max-h-60 overflow-y-auto overflow-x-hidden",children:rt.jsx("div",{className:"grid gap-2",children:r.map((s,l)=>{const c=t.has(s.id);return rt.jsxs("div",{className:`flex items-center justify-between w-full p-2 rounded transition-colors cursor-pointer ${c?"bg-neutral-700 border border-neutral-500":"hover:bg-neutral-700"}`,onClick:()=>n(s.id),children:[rt.jsx("div",{className:"flex-1 w-0 overflow-hidden",children:rt.jsxs("div",{className:"text-sm font-medium text-white truncate",children:[l+1,". ",s.question]})}),rt.jsx("div",{className:"flex items-center gap-3 ml-4 flex-shrink-0",children:rt.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-mono ${Lm(s.status)} bg-neutral-900/50`,children:[s.status==="learned"&&"",s.status==="learning"&&`${s.knowCount}/${Ba}`,s.status==="new"&&`0/${Ba}`]})})]},s.id)})})})]}),dC=()=>{const[r,t,n]=I0(vc),s=async()=>{try{await qS(vc,rC)}catch(c){console.error(c)}},l=()=>{vS(vc)};return t?rt.jsx("div",{children:"Loading..."}):n?rt.jsxs("div",{children:["Error: ",n.message]}):rt.jsx("div",{className:"absolute top-4 right-4",children:r?rt.jsxs("div",{className:"flex items-center gap-4",children:[rt.jsx("span",{className:"text-white text-sm",children:r.displayName}),rt.jsx("button",{onClick:l,className:"bg-red-600 text-white px-3 py-1 rounded-lg text-sm",children:"Logout"})]}):rt.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm",children:"Login with Google"})})},mC=()=>{const[r,t]=xt.useState(!1),{cards:n,studyQueue:s,currentCard:l,stats:c,selectedCardIds:d,flipCard:g,handleKnow:p,handleDontKnow:_,resetProgress:A,toggleCardSelection:C,selectAll:V,showOnlyLearned:j,shuffleQueue:X,continueLearning:nt,copyProgressToClipboard:Z,importProgressFromClipboard:Et}=oC();return rt.jsx("div",{className:"relative min-h-screen w-screen flex justify-center items-center bg-neutral-900 text-neutral-100 font-sans",children:rt.jsxs("div",{className:"w-full max-w-4xl p-6",children:[rt.jsx(dC,{}),rt.jsxs("header",{className:"text-center mb-8 mt-10",children:[rt.jsx("h1",{className:"text-4xl font-bold mb-2",children:" "}),rt.jsx("p",{className:"text-neutral-400",children:"    "})]}),rt.jsxs("main",{children:[rt.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 mb-6",children:[rt.jsxs("div",{className:"flex flex-wrap gap-3 justify-center items-center",children:[rt.jsxs("button",{onClick:()=>t(!r),className:"px-4 py-2 rounded-lg bg-neutral-700 hover:bg-neutral-600 text-white flex items-center gap-2",children:[rt.jsx(G1,{size:20})," "]}),rt.jsx("button",{onClick:X,className:"px-3 py-2 rounded-lg text-white text-sm",children:""}),rt.jsx("button",{onClick:j,className:"px-3 py-2 rounded-lg text-white text-sm",children:" "}),rt.jsx("button",{onClick:nt,className:"px-3 py-2 rounded-lg text-white text-sm",children:""}),rt.jsx("button",{onClick:V,className:"px-3 py-2 rounded-lg text-white text-sm",children:" "}),rt.jsx("button",{onClick:A,className:"px-3 py-2 rounded-lg hover text-white text-sm",children:" "}),rt.jsx("button",{onClick:Z,className:"px-3 py-2 rounded-lg hover text-white text-sm",children:" "}),rt.jsx("button",{onClick:Et,className:"px-3 py-2 rounded-lg hover text-white text-sm",children:"  "})]}),rt.jsxs("div",{className:"mt-4 text-center text-neutral-400",children:["    : ",s.length]})]}),r&&rt.jsx(uC,{stats:c}),l?rt.jsx(hC,{card:l,onFlip:g,onKnow:p,onDontKnow:_}):rt.jsx("div",{className:"text-center text-neutral-500 text-xl bg-neutral-800 rounded-xl p-8 mb-6",children:d.size>0?"     !":"   ."}),rt.jsx(fC,{cards:n,selectedIds:d,onToggle:C})]})]})})};U1.createRoot(document.getElementById("root")).render(rt.jsx(xt.StrictMode,{children:rt.jsx(mC,{})}));
